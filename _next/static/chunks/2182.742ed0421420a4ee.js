"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2182],{52182:function(e,t,n){n.r(t),n.d(t,{createAbstractClient:function(){return nw},deployAccount:function(){return nv},getSmartAccountAddressFromInitialSigner:function(){return eW},isAGWAccount:function(){return eY},linkablePublicActions:function(){return nh},linkableWalletActions:function(){return ng},transformEIP1193Provider:function(){return nC},validChains:function(){return eK}});var a,i,s,r,p,y,u=n(51612),o=n(84159),l=n(41688),d=n(59262),m=n(91185);async function c(e,{chain:t}){let{id:n,name:a,nativeCurrency:i,rpcUrls:s,blockExplorers:r}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:(0,m.eC)(n),chainName:a,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:r?Object.values(r).map(({url:e})=>e):void 0}]},{dedupe:!0,retryCount:0})}var b=n(27727),T=n(24973),f=n(79429);async function g(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(e=>(0,f.x)(e))}async function h(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}var w=n(75757);async function v(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(e=>(0,f.K)(e))}async function x(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}var M=n(21413),L=n(10747),_=n(91724);async function C(e,{account:t=e.account,message:n}){if(!t)throw new _.o({docsPath:"/docs/actions/wallet/signMessage"});let a=(0,L.T)(t);if(a.signMessage)return a.signMessage({message:n});let i="string"==typeof n?(0,m.$G)(n):n.raw instanceof Uint8Array?(0,m.NC)(n.raw):n.raw;return e.request({method:"personal_sign",params:[i,a.address]},{retryCount:0})}var I=n(57624),P=n(58586),A=n(55412),D=n(49900);async function S(e,t){let{account:n=e.account,chain:a=e.chain,...i}=t;if(!n)throw new _.o({docsPath:"/docs/actions/wallet/signTransaction"});let s=(0,L.T)(n);(0,D.F)({account:s,...t});let r=await (0,A.s)(e,d.L,"getChainId")({});null!==a&&(0,I.q)({currentChainId:r,chain:a});let p=a?.formatters||e.chain?.formatters,y=p?.transactionRequest?.format||P.tG;return s.signTransaction?s.signTransaction({...i,chainId:r},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...y(i),chainId:(0,m.eC)(r),from:s.address}]},{retryCount:0})}var B=n(59173);async function N(e,t){let{account:n=e.account,domain:a,message:i,primaryType:s}=t;if(!n)throw new _.o({docsPath:"/docs/actions/wallet/signTypedData"});let r=(0,L.T)(n),p={EIP712Domain:(0,B.cj)({domain:a}),...t.types};if((0,B.iC)({domain:a,message:i,primaryType:s,types:p}),r.signTypedData)return r.signTypedData({domain:a,message:i,primaryType:s,types:p});let y=(0,B.H6)({domain:a,message:i,primaryType:s,types:p});return e.request({method:"eth_signTypedData_v4",params:[r.address,y]},{retryCount:0})}async function E(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,m.eC)(t)}]},{retryCount:0})}async function O(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}var R=n(72592);function F(e){return{addChain:t=>c(e,t),deployContract:t=>(function(e,t){let{abi:n,args:a,bytecode:i,...s}=t,r=(0,b.w)({abi:n,args:a,bytecode:i});return(0,T.T)(e,{...s,data:r})})(e,t),getAddresses:()=>g(e),getChainId:()=>(0,d.L)(e),getPermissions:()=>h(e),prepareTransactionRequest:t=>(0,w.ZE)(e,t),requestAddresses:()=>v(e),requestPermissions:t=>x(e,t),sendRawTransaction:t=>(0,M.p)(e,t),sendTransaction:t=>(0,T.T)(e,t),signMessage:t=>C(e,t),signTransaction:t=>S(e,t),signTypedData:t=>N(e,t),switchChain:t=>E(e,t),watchAsset:t=>O(e,t),writeContract:t=>(0,R.n)(e,t)}}function k(e){let{key:t="wallet",name:n="Wallet Client",transport:a}=e;return(0,l.e)({...e,key:t,name:n,transport:a,type:"walletClient"}).extend(F)}var G=n(63131),H=n(38094);function V(e){if("string"==typeof e){if(!(0,H.U)(e,{strict:!1}))throw new G.b({address:e});return{address:e,type:"json-rpc"}}if(!(0,H.U)(e.address,{strict:!1}))throw new G.b({address:e.address});return{address:e.address,nonceManager:e.nonceManager,sign:e.sign,experimental_signAuthorization:e.experimental_signAuthorization,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}var z=n(18742),q=n(48874),U=n(10889),K=n(41124),W=n(12950),Y=n(54159);function $(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}var j=n(94432),J=n(65429),Z=n(50060),Q=n(57577),X=n(51967);let ee=32n*X.rU,et={block:(0,j.G)({format(e){let t=e.transactions?.map(e=>{if("string"==typeof e)return e;let t=et.transaction?.format(e);return"0x71"===t.typeHex?t.type="eip712":"0xff"===t.typeHex&&(t.type="priority"),t});return{l1BatchNumber:e.l1BatchNumber?(0,W.y_)(e.l1BatchNumber):null,l1BatchTimestamp:e.l1BatchTimestamp?(0,W.y_)(e.l1BatchTimestamp):null,transactions:t}}}),transaction:(0,Z.y_)({format(e){let t={};return"0x71"===e.type?t.type="eip712":"0xff"===e.type&&(t.type="priority"),{...t,l1BatchNumber:e.l1BatchNumber?(0,W.y_)(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?(0,W.y_)(e.l1BatchTxIndex):null}}}),transactionReceipt:(0,Q.dI)({format:e=>({l1BatchNumber:e.l1BatchNumber?(0,W.y_)(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?(0,W.y_)(e.l1BatchTxIndex):null,logs:e.logs.map(e=>({...(0,J.U)(e),l1BatchNumber:e.l1BatchNumber?(0,W.y_)(e.l1BatchNumber):null,transactionLogIndex:(0,W.ly)(e.transactionLogIndex),logType:e.logType})),l2ToL1Logs:e.l2ToL1Logs.map(e=>({blockNumber:(0,W.y_)(e.blockHash),blockHash:e.blockHash,l1BatchNumber:e.l1BatchNumber?(0,W.y_)(e.l1BatchNumber):null,transactionIndex:(0,W.y_)(e.transactionIndex),shardId:(0,W.y_)(e.shardId),isService:e.isService,sender:e.sender,key:e.key,value:e.value,transactionHash:e.transactionHash,logIndex:(0,W.y_)(e.logIndex)}))})}),transactionRequest:(0,P.iy)({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format:e=>e.gasPerPubdata||e.paymaster&&e.paymasterInput||e.factoryDeps||e.customSignature?{eip712Meta:{...e.gasPerPubdata?{gasPerPubdata:(0,m.NC)(e.gasPerPubdata)}:{gasPerPubdata:(0,m.NC)(50000n)},...e.paymaster&&e.paymasterInput?{paymasterParams:{paymaster:e.paymaster,paymasterInput:Array.from((0,z.nr)(e.paymasterInput))}}:{},...e.factoryDeps?{factoryDeps:e.factoryDeps.map(e=>Array.from((0,z.nr)(e)))}:{},...e.customSignature?{customSignature:Array.from((0,z.nr)(e.customSignature))}:{}},type:"0x71"}:{}})};var en=n(41710),ea=n(14263),ei=n(26251),es=n(79186),er=n(72610),ep=n(54323),ey=n(33952),eu=n(13624),eo=n(21935),el=n(32448),ed=n(68298),em=n(35015),ec=n(38855),eb=n(50618);function eT(e){let{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:a,to:i}=e;if(t<=0)throw new ed.hJ({chainId:t});if(i&&!(0,H.U)(i))throw new G.b({address:i});if(a&&a>X.zL)throw new em.Hh({maxFeePerGas:a});if(n&&a&&n>a)throw new em.cs({maxFeePerGas:a,maxPriorityFeePerGas:n})}var ef=n(52791);function eg(e){if(!e||0===e.length)return[];let t=[];for(let n=0;n<e.length;n++){let{address:a,storageKeys:i}=e[n];for(let e=0;e<i.length;e++)if(i[e].length-2!=64)throw new ei.JC({storageKey:i[e]});if(!(0,H.U)(a,{strict:!1}))throw new G.b({address:a});t.push([a,i])}return t}function eh(e,t){let n=t??e,{v:a,yParity:i}=n;if(void 0===n.r||void 0===n.s||void 0===a&&void 0===i)return[];let s=(0,eu.f)(n.r),r=(0,eu.f)(n.s);return["number"==typeof i?i?(0,m.NC)(1):"0x":0n===a?"0x":1n===a?(0,m.NC)(1):27n===a?"0x":(0,m.NC)(1),"0x00"===s?"0x":s,"0x00"===r?"0x":r]}class ew extends Y.G{constructor(){super('Transaction is not an EIP712 transaction.\n\nTransaction must:\n  - include `type: "eip712"`\n  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`',{name:"InvalidEip712TransactionError"})}}function ev(e){return"eip712"===e.type||"customSignature"in e&&!!e.customSignature||"paymaster"in e&&!!e.paymaster||"paymasterInput"in e&&!!e.paymasterInput||"gasPerPubdata"in e&&"bigint"==typeof e.gasPerPubdata||"factoryDeps"in e&&!!e.factoryDeps}function ex(e){let{chainId:t,to:n,from:a,paymaster:i,paymasterInput:s}=e;if(!ev(e))throw new ew;if(!t||t<=0)throw new ed.hJ({chainId:t});if(n&&!(0,H.U)(n))throw new G.b({address:n});if(a&&!(0,H.U)(a))throw new G.b({address:a});if(i&&!(0,H.U)(i))throw new G.b({address:i});if(i&&!s)throw new Y.G("`paymasterInput` must be provided when `paymaster` is defined");if(!i&&s)throw new Y.G("`paymaster` must be provided when `paymasterInput` is defined")}var eM=n(93635),eL=n(55483);class e_ extends Y.G{constructor({givenLength:e,maxBytecodeSize:t}){super(`Bytecode cannot be longer than ${t} bytes. Given length: ${e}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class eC extends Y.G{constructor({givenLengthInWords:e}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${e}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class eI extends Y.G{constructor({givenLength:e}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${e}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}function eP(e){let t=(0,z.O0)(e);if(t.length%32!=0)throw new eI({givenLength:t.length});if(t.length>ee)throw new e_({givenLength:t.length,maxBytecodeSize:ee});let n=(0,eL.J)(t),a=(0,z.O0)(n),i=t.length/32;if(i%2==0)throw new eC({givenLengthInWords:i});let s=(0,z.O0)(i),r=(0,eM.vk)(s,{size:2}),p=new Uint8Array([1,0]);return a.set(p,0),a.set(r,2),a}let eA={formatters:et,serializers:{transaction:function(e,t){return ev(e)?function(e){let{chainId:t,gas:n,nonce:a,to:i,from:s,value:r,maxFeePerGas:p,maxPriorityFeePerGas:y,customSignature:u,factoryDeps:o,paymaster:l,paymasterInput:d,gasPerPubdata:c,data:b}=e;ex(e);let T=[a?(0,m.NC)(a):"0x",y?(0,m.NC)(y):"0x",p?(0,m.NC)(p):"0x",n?(0,m.NC)(n):"0x",i??"0x",r?(0,m.NC)(r):"0x",b??"0x0",(0,m.NC)(t),(0,m.NC)(""),(0,m.NC)(""),(0,m.NC)(t),s??"0x",c?(0,m.NC)(c):(0,m.NC)(50000n),o??[],u??"0x",l&&d?[l,d]:[]];return(0,en.SM)(["0x71",(0,ea.LV)(T)])}(e):function(e,t){let n=(0,ef.l)(e);return"eip1559"===n?function(e,t){let{chainId:n,gas:a,nonce:i,to:s,value:r,maxFeePerGas:p,maxPriorityFeePerGas:y,accessList:u,data:o}=e;eT(e);let l=eg(u),d=[(0,m.NC)(n),i?(0,m.NC)(i):"0x",y?(0,m.NC)(y):"0x",p?(0,m.NC)(p):"0x",a?(0,m.NC)(a):"0x",s??"0x",r?(0,m.NC)(r):"0x",o??"0x",l,...eh(e,t)];return(0,en.SM)(["0x02",(0,ea.LV)(d)])}(e,t):"eip2930"===n?function(e,t){let{chainId:n,gas:a,data:i,nonce:s,to:r,value:p,accessList:y,gasPrice:u}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:n,gasPrice:a,maxFeePerGas:i,to:s}=e;if(t<=0)throw new ed.hJ({chainId:t});if(s&&!(0,H.U)(s))throw new G.b({address:s});if(n||i)throw new Y.G("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(a&&a>X.zL)throw new em.Hh({maxFeePerGas:a})}(e);let o=eg(y),l=[(0,m.NC)(n),s?(0,m.NC)(s):"0x",u?(0,m.NC)(u):"0x",a?(0,m.NC)(a):"0x",r??"0x",p?(0,m.NC)(p):"0x",i??"0x",o,...eh(e,t)];return(0,en.SM)(["0x01",(0,ea.LV)(l)])}(e,t):"eip4844"===n?function(e,t){let{chainId:n,gas:a,nonce:i,to:s,value:r,maxFeePerBlobGas:p,maxFeePerGas:y,maxPriorityFeePerGas:u,accessList:o,data:l}=e;!function(e){let{blobVersionedHashes:t}=e;if(t){if(0===t.length)throw new el.RX;for(let e of t){let t=(0,ec.d)(e),n=(0,W.ly)((0,eb.tP)(e,0,1));if(32!==t)throw new el.xd({hash:e,size:t});if(n!==eo.l)throw new el.cJ({hash:e,version:n})}}eT(e)}(e);let d=e.blobVersionedHashes,c=e.sidecars;if(e.blobs&&(void 0===d||void 0===c)){let t="string"==typeof e.blobs[0]?e.blobs:e.blobs.map(e=>(0,m.ci)(e)),n=e.kzg,a=(0,es.P)({blobs:t,kzg:n});if(void 0===d&&(d=(0,ep.C)({commitments:a})),void 0===c){let e=(0,er.y)({blobs:t,commitments:a,kzg:n});c=(0,ey.j)({blobs:t,commitments:a,proofs:e})}}let b=eg(o),T=[(0,m.NC)(n),i?(0,m.NC)(i):"0x",u?(0,m.NC)(u):"0x",y?(0,m.NC)(y):"0x",a?(0,m.NC)(a):"0x",s??"0x",r?(0,m.NC)(r):"0x",l??"0x",b,p?(0,m.NC)(p):"0x",d??[],...eh(e,t)],f=[],g=[],h=[];if(c)for(let e=0;e<c.length;e++){let{blob:t,commitment:n,proof:a}=c[e];f.push(t),g.push(n),h.push(a)}return(0,en.SM)(["0x03",c?(0,ea.LV)([T,f,g,h]):(0,ea.LV)(T)])}(e,t):"eip7702"===n?function(e,t){let{authorizationList:n,chainId:a,gas:i,nonce:s,to:r,value:p,maxFeePerGas:y,maxPriorityFeePerGas:u,accessList:o,data:l}=e;!function(e){let{authorizationList:t}=e;if(t)for(let e of t){let{contractAddress:t,chainId:n}=e;if(!(0,H.U)(t))throw new G.b({address:t});if(n<0)throw new ed.hJ({chainId:n})}eT(e)}(e);let d=eg(o),c=function(e){if(!e||0===e.length)return[];let t=[];for(let n of e){let{contractAddress:e,chainId:a,nonce:i,...s}=n;t.push([a?(0,m.NC)(a):"0x",e,i?(0,m.NC)(i):"0x",...eh({},s)])}return t}(n);return(0,en.SM)(["0x04",(0,ea.LV)([(0,m.NC)(a),s?(0,m.NC)(s):"0x",u?(0,m.NC)(u):"0x",y?(0,m.NC)(y):"0x",i?(0,m.NC)(i):"0x",r??"0x",p?(0,m.NC)(p):"0x",l??"0x",d,c,...eh(e,t)])])}(e,t):function(e,t){let{chainId:n=0,gas:a,data:i,nonce:s,to:r,value:p,gasPrice:y}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:n,gasPrice:a,maxFeePerGas:i,to:s}=e;if(s&&!(0,H.U)(s))throw new G.b({address:s});if(void 0!==t&&t<=0)throw new ed.hJ({chainId:t});if(n||i)throw new Y.G("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(a&&a>X.zL)throw new em.Hh({maxFeePerGas:a})}(e);let u=[s?(0,m.NC)(s):"0x",y?(0,m.NC)(y):"0x",a?(0,m.NC)(a):"0x",r??"0x",p?(0,m.NC)(p):"0x",i??"0x"];if(t){let e=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(35n===t.v?0n:1n);if(n>0)return BigInt(2*n)+BigInt(35n+t.v-27n);let e=27n+(27n===t.v?0n:1n);if(t.v!==e)throw new ei.vl({v:t.v});return e})(),a=(0,eu.f)(t.r),i=(0,eu.f)(t.s);u=[...u,(0,m.NC)(e),"0x00"===a?"0x":a,"0x00"===i?"0x":i]}else n>0&&(u=[...u,(0,m.NC)(n),"0x","0x"]);return(0,ea.LV)(u)}(e,t)}(e,t)}},custom:{getEip712Domain:e=>{ex(e);let t=function(e){let{gas:t,nonce:n,to:a,from:i,value:s,maxFeePerGas:r,maxPriorityFeePerGas:p,factoryDeps:y,paymaster:u,paymasterInput:o,gasPerPubdata:l,data:d}=e;return{txType:113n,from:BigInt(i),to:a?BigInt(a):0n,gasLimit:t??0n,gasPerPubdataByteLimit:l??50000n,maxFeePerGas:r??0n,maxPriorityFeePerGas:p??0n,paymaster:u?BigInt(u):0n,nonce:n?BigInt(n):0n,value:s??0n,data:d||"0x0",factoryDeps:y?.map(e=>m.NC(eP(e)))??[],paymasterInput:o||"0x"}}(e);return{domain:{name:"zkSync",version:"2",chainId:e.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:t}}}},eD=$({...eA,id:11124,name:"Abstract Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.testnet.abs.xyz"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.testnet.abs.xyz"}},testnet:!0,contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963",blockCreated:358349},universalSignatureVerifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:431682}}}),eS=$({...eA,id:2741,name:"Abstract",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.mainnet.abs.xyz"],webSocket:["wss://api.mainnet.abs.xyz/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.mainnet.abs.xyz"}},contracts:{multicall3:{address:"0xAa4De41dba0Ca5dCBb288b7cC6b708F3aaC759E7",blockCreated:5288},universalSignatureVerifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:5263}}});var eB=[{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bytes4",name:"_initializerSelector",type:"bytes4"},{internalType:"address",name:"_registry",type:"address"},{internalType:"bytes32",name:"_proxyBytecodeHash",type:"bytes32"},{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_owner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ALREADY_CREATED",type:"error"},{inputs:[],name:"DEPLOYMENT_FAILED",type:"error"},{inputs:[],name:"INVALID_INITIALIZER",type:"error"},{inputs:[],name:"NOT_FROM_DEPLOYER",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"}],name:"AGWAccountCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"}],name:"AGWAccountDeployed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployer",type:"address"},{indexed:!0,internalType:"bool",name:"authorized",type:"bool"}],name:"DeployerAuthorized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newImplementation",type:"address"}],name:"ImplementationChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRegistry",type:"address"}],name:"RegistryChanged",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"accountToDeployer",outputs:[{internalType:"address",name:"deployer",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"accountAddress",type:"address"}],name:"agwAccountCreated",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"deployer",type:"address"}],name:"authorizedDeployers",outputs:[{internalType:"bool",name:"authorized",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"},{internalType:"bytes4",name:"newInitializerSelector",type:"bytes4"}],name:"changeImplementation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRegistry",type:"address"}],name:"changeRegistry",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"initializer",type:"bytes"}],name:"deployAccount",outputs:[{internalType:"address",name:"accountAddress",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"salt",type:"bytes32"}],name:"getAddressForSalt",outputs:[{internalType:"address",name:"accountAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"address",name:"_implementation",type:"address"}],name:"getAddressForSaltAndImplementation",outputs:[{internalType:"address",name:"accountAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"implementationAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"initializerSelector",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxyBytecodeHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"registry",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"salt",type:"bytes32"}],name:"saltToAccount",outputs:[{internalType:"address",name:"accountAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"deployer",type:"address"},{internalType:"bool",name:"authorized",type:"bool"}],name:"setDeployer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];let eN=[{inputs:[{internalType:"address",name:"_owner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"NOT_FROM_FACTORY",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"factory",type:"address"}],name:"FactorySet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"factory",type:"address"}],name:"FactoryUnset",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isAGW",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isFactory",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"register",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"}],name:"registerMultiple",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"factory_",type:"address"}],name:"setFactory",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"unregister",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"}],name:"unregisterMultiple",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"factory_",type:"address"}],name:"unsetFactory",outputs:[],stateMutability:"nonpayable",type:"function"}],eE="0x9B947df68D35281C972511B3E7BC875926f26C1A",eO="0x74b9ae28EC45E3FA11533c7954752597C3De3e7A",eR="0x34ca1501FAE231cC2ebc995CE013Dbe882d7d081",eF="0x0000000000000000000000000000000000008006",ek="0x0000000059A24EB229eED07Ac44229DB56C5d797",eG="0x0000000078CC4Cc1C14E27c0fa35ED6E5E58825D",eH="0xc10dcfe266c1f71ef476efbd3223555750dc271e4115626b",eV=`${eH}000000ffffffffff`,ez={[eD.id]:"0x35A54c8C757806eB6820629bc82d90E056394C92",[eS.id]:"0x303a465b659cbb0ab36ee643ea362c509eeb5213"};class eq extends Y.G{constructor(){super('Transaction is not an EIP712 transaction.\n\nTransaction must:\n  - include `type: "eip712"`\n  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`',{name:"InvalidEip712TransactionError"})}}function eU(e){return"eip712"===e.type||"customSignature"in e&&!!e.customSignature||"paymaster"in e&&!!e.paymaster||"paymasterInput"in e&&!!e.paymasterInput||"gasPerPubdata"in e&&"bigint"==typeof e.gasPerPubdata||"factoryDeps"in e&&!!e.factoryDeps}let eK={[eD.id]:eD,[eS.id]:eS};async function eW(e,t){if(void 0===e)throw Error("Initial signer is required to get smart account address");let n=(0,z.O0)(e),a=(0,q.w)(n);return await t.readContract({address:eE,abi:eB,functionName:"getAddressForSalt",args:[a]})}async function eY(e,t){return await e.readContract({address:"0xd5E3efDA6bB5aB545cc2358796E96D9033496Dda",abi:eN,functionName:"isAGW",args:[t]})}async function e$(e,t){return void 0!==await e.getCode({address:t})}function ej(e,t,n){return(0,U.R)({abi:[{name:"initialize",type:"function",inputs:[{name:"initialK1Owner",type:"address"},{name:"initialK1Validator",type:"address"},{name:"modules",type:"bytes[]"},{name:"initCall",type:"tuple",components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"value",type:"uint256"},{name:"callData",type:"bytes"}]}],outputs:[],stateMutability:"nonpayable"}],functionName:"initialize",args:[e,t,[],n]})}function eJ(e){return e.message&&e.domain?.name==="zkSync"&&e.domain?.version==="2"&&eU(e.message)}function eZ(e){if(!eJ(e))throw new Y.G("Typed data is not an EIP712 transaction");if(e.domain?.chainId===void 0)throw new Y.G("Chain ID is required for EIP712 transaction");return{chainId:Number(e.domain.chainId),account:(0,L.T)((0,m.NC)(BigInt(e.message.from),{size:20})),to:(0,m.NC)(BigInt(e.message.to),{size:20}),gas:BigInt(e.message.gasLimit),gasPerPubdata:BigInt(e.message.gasPerPubdataByteLimit),maxFeePerGas:BigInt(e.message.maxFeePerGas),maxPriorityFeePerGas:BigInt(e.message.maxPriorityFeePerGas),paymaster:"0"!=e.message.paymaster?(0,m.NC)(BigInt(e.message.paymaster),{size:20}):void 0,nonce:e.message.nonce,value:BigInt(e.message.value),data:"0x0"===e.message.data?"0x":e.message.data,factoryDeps:e.message.factoryDeps,paymasterInput:"0x"!==e.message.paymasterInput?e.message.paymasterInput:void 0}}var eQ=n(68611),eX=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ADDRESS_ALREADY_EXISTS",type:"error"},{inputs:[],name:"ADDRESS_NOT_EXISTS",type:"error"},{inputs:[],name:"BYTES_ALREADY_EXISTS",type:"error"},{inputs:[],name:"BYTES_NOT_EXISTS",type:"error"},{inputs:[],name:"CALL_FAILED",type:"error"},{inputs:[],name:"EMPTY_HOOK_ADDRESS",type:"error"},{inputs:[],name:"EMPTY_MODULE_ADDRESS",type:"error"},{inputs:[],name:"EMPTY_OWNERS",type:"error"},{inputs:[],name:"EMPTY_VALIDATORS",type:"error"},{inputs:[],name:"FEE_PAYMENT_FAILED",type:"error"},{inputs:[],name:"HOOK_ERC165_FAIL",type:"error"},{inputs:[],name:"INSUFFICIENT_FUNDS",type:"error"},{inputs:[],name:"INVALID_ADDRESS",type:"error"},{inputs:[],name:"INVALID_BYTES",type:"error"},{inputs:[],name:"INVALID_KEY",type:"error"},{inputs:[],name:"INVALID_PUBKEY_LENGTH",type:"error"},{inputs:[],name:"INVALID_SALT",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"MODULE_ERC165_FAIL",type:"error"},{inputs:[{internalType:"uint256",name:"actualValue",type:"uint256"},{internalType:"uint256",name:"expectedValue",type:"uint256"}],name:"MsgValueMismatch",type:"error"},{inputs:[],name:"NOT_FROM_BOOTLOADER",type:"error"},{inputs:[],name:"NOT_FROM_DEPLOYER",type:"error"},{inputs:[],name:"NOT_FROM_HOOK",type:"error"},{inputs:[],name:"NOT_FROM_MODULE",type:"error"},{inputs:[],name:"NOT_FROM_SELF",type:"error"},{inputs:[],name:"NOT_FROM_SELF_OR_MODULE",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"RECUSIVE_MODULE_CALL",type:"error"},{inputs:[],name:"SAME_IMPLEMENTATION",type:"error"},{inputs:[],name:"UNAUTHORIZED_OUTSIDE_TRANSACTION",type:"error"},{inputs:[],name:"VALIDATION_HOOK_FAILED",type:"error"},{inputs:[],name:"VALIDATOR_ERC165_FAIL",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"hook",type:"address"}],name:"AddHook",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"AddModule",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"validator",type:"address"}],name:"AddModuleValidator",type:"event"},{anonymous:!1,inputs:[],name:"EIP712DomainChanged",type:"event"},{anonymous:!1,inputs:[],name:"FeePaid",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"addr",type:"address"}],name:"K1AddOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"validator",type:"address"}],name:"K1AddValidator",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"addr",type:"address"}],name:"K1RemoveOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"validator",type:"address"}],name:"K1RemoveValidator",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes",name:"pubKey",type:"bytes"}],name:"R1AddOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"validator",type:"address"}],name:"R1AddValidator",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes",name:"pubKey",type:"bytes"}],name:"R1RemoveOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"validator",type:"address"}],name:"R1RemoveValidator",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"hook",type:"address"}],name:"RemoveHook",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"RemoveModule",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"validator",type:"address"}],name:"RemoveModuleValidator",type:"event"},{anonymous:!1,inputs:[],name:"ResetOwners",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldImplementation",type:"address"},{indexed:!0,internalType:"address",name:"newImplementation",type:"address"}],name:"Upgraded",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"VERSION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"hookAndData",type:"bytes"},{internalType:"bool",name:"isValidation",type:"bool"}],name:"addHook",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"moduleAndData",type:"bytes"}],name:"addModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"validator",type:"address"},{internalType:"bytes",name:"initialAccountValidationKey",type:"bytes"}],name:"addModuleValidator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bool",name:"allowFailure",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Call[]",name:"_calls",type:"tuple[]"}],name:"batchCall",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"agwMessageTypeHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bool",name:"allowFailure",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Call[]",name:"_calls",type:"tuple[]"}],name:"batchCall",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"eip712Domain",outputs:[{internalType:"bytes1",name:"fields",type:"bytes1"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"version",type:"string"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"address",name:"verifyingContract",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"uint256[]",name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"executeFromModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"},{components:[{internalType:"uint256",name:"txType",type:"uint256"},{internalType:"uint256",name:"from",type:"uint256"},{internalType:"uint256",name:"to",type:"uint256"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"uint256",name:"gasPerPubdataByteLimit",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"uint256",name:"paymaster",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256[4]",name:"reserved",type:"uint256[4]"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes32[]",name:"factoryDeps",type:"bytes32[]"},{internalType:"bytes",name:"paymasterInput",type:"bytes"},{internalType:"bytes",name:"reservedDynamic",type:"bytes"}],internalType:"struct Transaction",name:"transaction",type:"tuple"}],name:"executeTransaction",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"txType",type:"uint256"},{internalType:"uint256",name:"from",type:"uint256"},{internalType:"uint256",name:"to",type:"uint256"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"uint256",name:"gasPerPubdataByteLimit",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"uint256",name:"paymaster",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256[4]",name:"reserved",type:"uint256[4]"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes32[]",name:"factoryDeps",type:"bytes32[]"},{internalType:"bytes",name:"paymasterInput",type:"bytes"},{internalType:"bytes",name:"reservedDynamic",type:"bytes"}],internalType:"struct Transaction",name:"transaction",type:"tuple"}],name:"executeTransactionFromOutside",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"signedHash",type:"bytes32"}],internalType:"struct ERC1271Handler.AGWMessage",name:"agwMessage",type:"tuple"}],name:"getEip712Hash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"hook",type:"address"},{internalType:"bytes32",name:"key",type:"bytes32"}],name:"getHookData",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"implementationAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"initialK1Owner",type:"address"},{internalType:"address",name:"initialK1Validator",type:"address"},{internalType:"bytes[]",name:"modules",type:"bytes[]"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bool",name:"allowFailure",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Call",name:"initCall",type:"tuple"}],name:"initialize",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"isHook",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"isModule",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"validator",type:"address"}],name:"isModuleValidator",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"signedHash",type:"bytes32"},{internalType:"bytes",name:"signatureAndValidator",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"magicValue",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"k1AddOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"validator",type:"address"}],name:"k1AddValidator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"k1IsOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"validator",type:"address"}],name:"k1IsValidator",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"k1ListOwners",outputs:[{internalType:"address[]",name:"k1OwnerList",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"k1ListValidators",outputs:[{internalType:"address[]",name:"validatorList",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"k1RemoveOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"validator",type:"address"}],name:"k1RemoveValidator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"isValidation",type:"bool"}],name:"listHooks",outputs:[{internalType:"address[]",name:"hookList",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"listModuleValidators",outputs:[{internalType:"address[]",name:"validatorList",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"listModules",outputs:[{internalType:"address[]",name:"moduleList",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"},{components:[{internalType:"uint256",name:"txType",type:"uint256"},{internalType:"uint256",name:"from",type:"uint256"},{internalType:"uint256",name:"to",type:"uint256"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"uint256",name:"gasPerPubdataByteLimit",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"uint256",name:"paymaster",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256[4]",name:"reserved",type:"uint256[4]"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes32[]",name:"factoryDeps",type:"bytes32[]"},{internalType:"bytes",name:"paymasterInput",type:"bytes"},{internalType:"bytes",name:"reservedDynamic",type:"bytes"}],internalType:"struct Transaction",name:"transaction",type:"tuple"}],name:"payForTransaction",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"},{components:[{internalType:"uint256",name:"txType",type:"uint256"},{internalType:"uint256",name:"from",type:"uint256"},{internalType:"uint256",name:"to",type:"uint256"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"uint256",name:"gasPerPubdataByteLimit",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"uint256",name:"paymaster",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256[4]",name:"reserved",type:"uint256[4]"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes32[]",name:"factoryDeps",type:"bytes32[]"},{internalType:"bytes",name:"paymasterInput",type:"bytes"},{internalType:"bytes",name:"reservedDynamic",type:"bytes"}],internalType:"struct Transaction",name:"transaction",type:"tuple"}],name:"prepareForPaymaster",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes",name:"pubKey",type:"bytes"}],name:"r1AddOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"validator",type:"address"}],name:"r1AddValidator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"pubKey",type:"bytes"}],name:"r1IsOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"validator",type:"address"}],name:"r1IsValidator",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"r1ListOwners",outputs:[{internalType:"bytes[]",name:"r1OwnerList",type:"bytes[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"r1ListValidators",outputs:[{internalType:"address[]",name:"validatorList",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"pubKey",type:"bytes"}],name:"r1RemoveOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"validator",type:"address"}],name:"r1RemoveValidator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"hook",type:"address"},{internalType:"bool",name:"isValidation",type:"bool"}],name:"removeHook",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"module",type:"address"}],name:"removeModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"validator",type:"address"}],name:"removeModuleValidator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"pubKey",type:"bytes"}],name:"resetOwners",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"key",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],name:"setHookData",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"}],name:"upgradeTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"suggestedSignedHash",type:"bytes32"},{components:[{internalType:"uint256",name:"txType",type:"uint256"},{internalType:"uint256",name:"from",type:"uint256"},{internalType:"uint256",name:"to",type:"uint256"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"uint256",name:"gasPerPubdataByteLimit",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"uint256",name:"paymaster",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256[4]",name:"reserved",type:"uint256[4]"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes32[]",name:"factoryDeps",type:"bytes32[]"},{internalType:"bytes",name:"paymasterInput",type:"bytes"},{internalType:"bytes",name:"reservedDynamic",type:"bytes"}],internalType:"struct Transaction",name:"transaction",type:"tuple"}],name:"validateTransaction",outputs:[{internalType:"bytes4",name:"magic",type:"bytes4"}],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}];let e2=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"}],name:"Disabled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"}],name:"Inited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"bytes32",name:"sessionHash",type:"bytes32"},{components:[{internalType:"address",name:"signer",type:"address"},{internalType:"uint256",name:"expiresAt",type:"uint256"},{components:[{internalType:"enum SessionLib.LimitType",name:"limitType",type:"uint8"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"}],internalType:"struct SessionLib.UsageLimit",name:"feeLimit",type:"tuple"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes4",name:"selector",type:"bytes4"},{internalType:"uint256",name:"maxValuePerUse",type:"uint256"},{components:[{internalType:"enum SessionLib.LimitType",name:"limitType",type:"uint8"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"}],internalType:"struct SessionLib.UsageLimit",name:"valueLimit",type:"tuple"},{components:[{internalType:"enum SessionLib.Condition",name:"condition",type:"uint8"},{internalType:"uint64",name:"index",type:"uint64"},{internalType:"bytes32",name:"refValue",type:"bytes32"},{components:[{internalType:"enum SessionLib.LimitType",name:"limitType",type:"uint8"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"}],internalType:"struct SessionLib.UsageLimit",name:"limit",type:"tuple"}],internalType:"struct SessionLib.Constraint[]",name:"constraints",type:"tuple[]"}],internalType:"struct SessionLib.CallSpec[]",name:"callPolicies",type:"tuple[]"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"maxValuePerUse",type:"uint256"},{components:[{internalType:"enum SessionLib.LimitType",name:"limitType",type:"uint8"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"}],internalType:"struct SessionLib.UsageLimit",name:"valueLimit",type:"tuple"}],internalType:"struct SessionLib.TransferSpec[]",name:"transferPolicies",type:"tuple[]"}],indexed:!1,internalType:"struct SessionLib.SessionSpec",name:"sessionSpec",type:"tuple"}],name:"SessionCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"bytes32",name:"sessionHash",type:"bytes32"}],name:"SessionRevoked",type:"event"},{inputs:[{internalType:"bytes",name:"sessionData",type:"bytes"}],name:"addValidationKey",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"signer",type:"address"},{internalType:"uint256",name:"expiresAt",type:"uint256"},{components:[{internalType:"enum SessionLib.LimitType",name:"limitType",type:"uint8"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"}],internalType:"struct SessionLib.UsageLimit",name:"feeLimit",type:"tuple"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes4",name:"selector",type:"bytes4"},{internalType:"uint256",name:"maxValuePerUse",type:"uint256"},{components:[{internalType:"enum SessionLib.LimitType",name:"limitType",type:"uint8"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"}],internalType:"struct SessionLib.UsageLimit",name:"valueLimit",type:"tuple"},{components:[{internalType:"enum SessionLib.Condition",name:"condition",type:"uint8"},{internalType:"uint64",name:"index",type:"uint64"},{internalType:"bytes32",name:"refValue",type:"bytes32"},{components:[{internalType:"enum SessionLib.LimitType",name:"limitType",type:"uint8"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"}],internalType:"struct SessionLib.UsageLimit",name:"limit",type:"tuple"}],internalType:"struct SessionLib.Constraint[]",name:"constraints",type:"tuple[]"}],internalType:"struct SessionLib.CallSpec[]",name:"callPolicies",type:"tuple[]"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"maxValuePerUse",type:"uint256"},{components:[{internalType:"enum SessionLib.LimitType",name:"limitType",type:"uint8"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"}],internalType:"struct SessionLib.UsageLimit",name:"valueLimit",type:"tuple"}],internalType:"struct SessionLib.TransferSpec[]",name:"transferPolicies",type:"tuple[]"}],internalType:"struct SessionLib.SessionSpec",name:"sessionSpec",type:"tuple"}],name:"createSession",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"disable",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum OperationType",name:"operationType",type:"uint8"},{internalType:"bytes32",name:"signedHash",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"handleValidation",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"smartAccount",type:"address"}],name:"isInited",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"sessionHash",type:"bytes32"}],name:"revokeKey",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"sessionHashes",type:"bytes32[]"}],name:"revokeKeys",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{components:[{internalType:"address",name:"signer",type:"address"},{internalType:"uint256",name:"expiresAt",type:"uint256"},{components:[{internalType:"enum SessionLib.LimitType",name:"limitType",type:"uint8"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"}],internalType:"struct SessionLib.UsageLimit",name:"feeLimit",type:"tuple"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes4",name:"selector",type:"bytes4"},{internalType:"uint256",name:"maxValuePerUse",type:"uint256"},{components:[{internalType:"enum SessionLib.LimitType",name:"limitType",type:"uint8"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"}],internalType:"struct SessionLib.UsageLimit",name:"valueLimit",type:"tuple"},{components:[{internalType:"enum SessionLib.Condition",name:"condition",type:"uint8"},{internalType:"uint64",name:"index",type:"uint64"},{internalType:"bytes32",name:"refValue",type:"bytes32"},{components:[{internalType:"enum SessionLib.LimitType",name:"limitType",type:"uint8"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"}],internalType:"struct SessionLib.UsageLimit",name:"limit",type:"tuple"}],internalType:"struct SessionLib.Constraint[]",name:"constraints",type:"tuple[]"}],internalType:"struct SessionLib.CallSpec[]",name:"callPolicies",type:"tuple[]"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"maxValuePerUse",type:"uint256"},{components:[{internalType:"enum SessionLib.LimitType",name:"limitType",type:"uint8"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"}],internalType:"struct SessionLib.UsageLimit",name:"valueLimit",type:"tuple"}],internalType:"struct SessionLib.TransferSpec[]",name:"transferPolicies",type:"tuple[]"}],internalType:"struct SessionLib.SessionSpec",name:"spec",type:"tuple"}],name:"sessionState",outputs:[{components:[{internalType:"uint256",name:"expiresAt",type:"uint256"},{internalType:"enum SessionLib.Status",name:"status",type:"uint8"},{internalType:"uint256",name:"feesRemaining",type:"uint256"},{components:[{internalType:"uint256",name:"remaining",type:"uint256"},{internalType:"address",name:"target",type:"address"},{internalType:"bytes4",name:"selector",type:"bytes4"},{internalType:"uint256",name:"index",type:"uint256"}],internalType:"struct SessionLib.LimitState[]",name:"transferValue",type:"tuple[]"},{components:[{internalType:"uint256",name:"remaining",type:"uint256"},{internalType:"address",name:"target",type:"address"},{internalType:"bytes4",name:"selector",type:"bytes4"},{internalType:"uint256",name:"index",type:"uint256"}],internalType:"struct SessionLib.LimitState[]",name:"callValue",type:"tuple[]"},{components:[{internalType:"uint256",name:"remaining",type:"uint256"},{internalType:"address",name:"target",type:"address"},{internalType:"bytes4",name:"selector",type:"bytes4"},{internalType:"uint256",name:"index",type:"uint256"}],internalType:"struct SessionLib.LimitState[]",name:"callParams",type:"tuple[]"}],internalType:"struct SessionLib.SessionState",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"bytes32",name:"sessionHash",type:"bytes32"}],name:"sessionStatus",outputs:[{internalType:"enum SessionLib.Status",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"signedHash",type:"bytes32"},{components:[{internalType:"uint256",name:"txType",type:"uint256"},{internalType:"uint256",name:"from",type:"uint256"},{internalType:"uint256",name:"to",type:"uint256"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"uint256",name:"gasPerPubdataByteLimit",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"uint256",name:"paymaster",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256[4]",name:"reserved",type:"uint256[4]"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"bytes32[]",name:"factoryDeps",type:"bytes32[]"},{internalType:"bytes",name:"paymasterInput",type:"bytes"},{internalType:"bytes",name:"reservedDynamic",type:"bytes"}],internalType:"struct Transaction",name:"transaction",type:"tuple"},{internalType:"bytes",name:"hookData",type:"bytes"}],name:"validationHook",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"}];var e0=n(73915),e6=n(21237);function e5(){return(0,e0.mE)({abi:e2,name:"createSession"}).inputs[0]}function e1(e){return(0,e6.E)([e5()],[e])}function e3(e,t){return(0,e6.E)([e5(),{type:"uint64[]"}],[e,t])}(a=r||(r={}))[a.Unlimited=0]="Unlimited",a[a.Lifetime=1]="Lifetime",a[a.Allowance=2]="Allowance",r.Unlimited,r.Lifetime,(i=p||(p={}))[i.Unconstrained=0]="Unconstrained",i[i.Equal=1]="Equal",i[i.Greater=2]="Greater",i[i.Less=3]="Less",i[i.GreaterEqual=4]="GreaterEqual",i[i.LessEqual=5]="LessEqual",i[i.NotEqual=6]="NotEqual",(s=y||(y={}))[s.NotInitialized=0]="NotInitialized",s[s.Active=1]="Active",s[s.Closed=2]="Closed",s[s.Expired=3]="Expired";let e4=e=>{let t=e.timestamp||BigInt(Math.floor(Date.now()/1e3)),n=(0,f.K)(e.target),a=e=>e.limitType===r.Allowance?t/e.period:0n,i=!!e.selector&&e.selector.length>=10,s=i?e.sessionConfig.callPolicies.find(t=>t.target.toLowerCase()===n.toLowerCase()&&t.selector==e.selector):e.sessionConfig.transferPolicies.find(e=>e.target.toLowerCase()===n.toLowerCase());if(!s)throw Error("Transaction does not fit any policy");return[a(e.sessionConfig.feeLimit),a(s.valueLimit),...i?s.constraints.map(e=>a(e.limit)):[]]};async function e8(e,t,n){let a;let{session:i,...s}=n;if(await e$(t,e.account.address)&&await e7(e))a=await (0,A.s)(e,R.n,"writeContract")({address:eR,abi:e2,functionName:"createSession",args:[i],...s});else{let t=e1(i);a=await (0,A.s)(e,R.n,"writeContract")({address:e.account.address,abi:eX,functionName:"addModule",args:[(0,en.SM)([eR,t])],...s})}return{transactionHash:a,session:i}}async function e7(e){return(await (0,A.s)(e,eQ.L,"readContract")({address:e.account.address,abi:eX,functionName:"listHooks",args:[!0]})).some(e=>e===eR)}var e9=n(65677),te=n(93050);let tt=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],name:"AccountNonceOrderingUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"aaVersion",type:"uint8"}],name:"AccountVersionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployerAddress",type:"address"},{indexed:!0,internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"contractAddress",type:"address"}],name:"ContractDeployed",type:"event"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create2",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"create2Account",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"createAccount",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"extendedAccountVersion",outputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_keccak256BytecodeHash",type:"bytes32"}],name:"forceDeployKeccak256",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment",name:"_deployment",type:"tuple"},{internalType:"address",name:"_sender",type:"address"}],name:"forceDeployOnAddress",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment[]",name:"_deployments",type:"tuple[]"}],name:"forceDeployOnAddresses",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"getAccountInfo",outputs:[{components:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"supportedAAVersion",type:"uint8"},{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],internalType:"struct IContractDeployer.AccountInfo",name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"uint256",name:"_senderNonce",type:"uint256"}],name:"getNewAddressCreate",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"getNewAddressCreate2",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_version",type:"uint8"}],name:"updateAccountVersion",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"_nonceOrdering",type:"uint8"}],name:"updateNonceOrdering",outputs:[],stateMutability:"nonpayable",type:"function"}],tn=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"l1Sender",type:"address"},{indexed:!0,internalType:"address",name:"l2Receiver",type:"address"},{indexed:!0,internalType:"address",name:"l2Token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"FinalizeDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"l2Sender",type:"address"},{indexed:!0,internalType:"address",name:"l1Receiver",type:"address"},{indexed:!0,internalType:"address",name:"l2Token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"WithdrawalInitiated",type:"event"},{inputs:[{internalType:"address",name:"_l1Sender",type:"address"},{internalType:"address",name:"_l2Receiver",type:"address"},{internalType:"address",name:"_l1Token",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"finalizeDeposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"l1Bridge",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"l1SharedBridge",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_l2Token",type:"address"}],name:"l1TokenAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_l1Token",type:"address"}],name:"l2TokenAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_l1Receiver",type:"address"},{internalType:"address",name:"_l2Token",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],ta="/docs/contract/encodeDeployData";function ti(e,t,n,a){let i=[t,n,a];return({create:{functionName:"create",argsContractDeployer:i},create2:{functionName:"create2",argsContractDeployer:i},createAccount:{functionName:"createAccount",argsContractDeployer:[...i,1]},create2Account:{functionName:"create2Account",argsContractDeployer:[...i,1]}})[e||"create"]}let ts=(e,t)=>"bigint"==typeof e?t(e):Array.isArray(e)?e.map(e=>ts(e,t)):e&&"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,n])=>[e,ts(n,t)])):e;async function tr(e,t){return await e.request({method:"privy_sendSmartWalletTx",params:[ts(t,m.NC)]},{retryCount:0})}async function tp(e,t){return await e.request({method:"privy_signSmartWalletMessage",params:[t.message]},{retryCount:0})}async function ty(e,t){return await e.request({method:"privy_signSmartWalletTypedData",params:[e.account.address,t]},{retryCount:0})}async function tu(e,t){let{chain:n,account:a,...i}=t;return await e.request({method:"privy_signSmartWalletTx",params:[ts(i,m.NC)]},{retryCount:0})}var to=n(81768);class tl extends Y.G{constructor({docsPath:e}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class td extends Y.G{constructor(){super("Insufficient balance for transaction.",{name:"InsufficientBalanceError"})}}var tm=n(60230),tc=n(57654),tb=n(60903);async function tT(e,t){let{account:n,...a}=t,i=n?(0,L.T)(n):e.account,s=e.chain?.formatters,r=s?.transactionRequest?.format({...a,from:i?.address}),p=await e.request({method:"zks_estimateFee",params:[r]});return{gasLimit:(0,W.y_)(p.gas_limit),gasPerPubdataLimit:(0,W.y_)(p.gas_per_pubdata_limit),maxPriorityFeePerGas:(0,W.y_)(p.max_priority_fee_per_gas),maxFeePerGas:(0,W.y_)(p.max_fee_per_gas)}}let tf=["blobVersionedHashes","chainId","fees","gas","nonce","type"];class tg extends Y.G{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,tm.o)(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}async function th(e,t,n,a){let i,s;let{isInitialTransaction:r,chain:p,gas:y,nonce:u,parameters:o=tf}=a,l=(0,L.T)(r?t.account:e.account),m={...a,from:l.address};async function c(){return i||(p?p.id:void 0!==a.chainId?a.chainId:i=await (0,A.s)(e,d.L,"getChainId")({}))}if(o.includes("chainId")&&(m.chainId=await c()),o.includes("nonce")&&void 0===u&&l&&(m.nonce=await (0,A.s)(n,tc.K,"getTransactionCount")({address:l.address,blockTag:"pending"})),o.includes("fees")&&(void 0===m.maxFeePerGas||void 0===m.maxPriorityFeePerGas)){let e,t;if(m.to===eF)e=25000000n,t=0n;else{let a={account:l,to:m.to,value:m.value,data:m.data,gas:m.gas,nonce:m.nonce,chainId:m.chainId,authorizationList:[]},i=await tT(n,a);e=i.maxFeePerGas,t=i.maxPriorityFeePerGas,s=i.gasLimit}if(void 0===a.maxPriorityFeePerGas&&a.maxFeePerGas&&a.maxFeePerGas<t)throw new tg({maxPriorityFeePerGas:t});m.maxPriorityFeePerGas=t,m.maxFeePerGas=e,void 0===y&&(m.gas=s)}return o.includes("gas")&&void 0===y&&void 0===s&&(m.gas=await (0,A.s)(e,tb.Q,"estimateGas")({...m,account:l?{address:l.address,type:"json-rpc"}:void 0})),(0,D.F)(m),delete m.parameters,delete m.isInitialTransaction,m}var tw=n(86246),tv=n(3371),tx=n(55225),tM=n(98185);function tL(e){let t=[];if("string"==typeof e){let n=(0,tM.Q4)(e),a=n.length;for(let e=0;e<a;e++)t.push((0,tM.C$)(n[e],{modifiers:tv.LY}))}else{let n=(0,tx.D)(e),a=e.length;for(let i=0;i<a;i++){let a=e[i];if((0,tv.N0)(a))continue;let s=(0,tM.Q4)(a),r=s.length;for(let e=0;e<r;e++)t.push((0,tM.C$)(s[e],{modifiers:tv.LY,structs:n}))}}if(0===t.length)throw new tw.$r({params:e});return t}async function t_(e,t,n,a,i=!1,s={},r,p=!1){let y=e.chain;if(p)return tu(e,n);if(!y?.serializers?.transaction)throw new Y.G("transaction serializer not found on chain.");let{transaction:u,customSignature:o}=await tC(e,t,n,a,i,s,r);return y.serializers.transaction({...u,customSignature:o,type:"eip712"},{r:"0x0",s:"0x0",v:0n})}async function tC(e,t,n,a,i=!1,s={},r){let p;let{account:y=e.account,chain:u=e.chain,...o}=n;if(o.type="eip712",!function(e,t){if(e)for(let n of t)(0,K.v)(e[n])&&(e[n]=(0,W.H_)(e[n],"bigint"))}(o,["value","nonce","maxFeePerGas","maxPriorityFeePerGas","gas","value","chainId","gasPerPubdata"]),!y)throw new tl({docsPath:"/docs/actions/wallet/signTransaction"});let l=(0,L.T)(y),m=i?t.account:l;if(!function(e){if(!eU(e))throw new eq;(0,D.F)(e)}({account:m,chain:u,...o}),!u||void 0===eK[u.id])throw new Y.G("Invalid chain specified");if(!u?.custom?.getEip712Domain)throw new Y.G("`getEip712Domain` not found on chain.");let c=await (0,A.s)(e,d.L,"getChainId")({});null!==u&&(0,I.q)({currentChainId:c,chain:u});let b=await tI(c,m,o,r),T=u?.custom.getEip712Domain({...b,type:"eip712"}),f=await N(t,{...T,account:t.account});if(i)p=f;else{let t=[];if(!i)for(let n of(await (0,A.s)(e,eQ.L,"readContract")({address:e.account.address,abi:eX,functionName:"listHooks",args:[!0]})))t.push(s[n]??"0x");p=(0,e6.E)(tL(["bytes","address","bytes[]"]),[f,a,t])}return{transaction:b,customSignature:p}}async function tI(e,t,n,a){if(a&&!n.paymaster&&!n.paymasterInput){let i=await a({chainId:e,from:t.address,data:n.data,gas:n.gas??0n,gasPrice:n.gasPrice??0n,gasPerPubdata:n.gasPerPubdata??0n,maxFeePerGas:n.maxFeePerGas??0n,maxPriorityFeePerGas:n.maxPriorityFeePerGas??0n,nonce:n.nonce??0,to:n.to??"0x0",value:n.value??0n});return{...n,...i,from:t.address,chainId:e}}return{...n,from:t.address,chainId:e}}async function tP(e,t,n,a,i,s,r={}){let{chain:p=e.chain}=a;if(!t.account)throw new tl({docsPath:"/docs/actions/wallet/sendTransaction"});let y=(0,L.T)(t.account);try{let y;let u=await th(e,t,n,{...a,parameters:["gas","nonce","fees"],isInitialTransaction:s});null!==p&&(y=await (0,A.s)(t,d.L,"getChainId")({}),(0,I.q)({currentChainId:y,chain:p}));let o=await t_(e,t,{...u,chainId:y},i,s,r);return await (0,A.s)(e,M.p,"sendRawTransaction")({serializedTransaction:o})}catch(e){if(e instanceof Error&&e.message.includes("0xe7931438"))throw new td;throw(0,to.$)(e,{...a,account:y,chain:p})}}async function tA(e,t,n,a,i=!1){let s;let{calls:r,paymaster:p,paymasterInput:y,...u}=a;if(0===r.length)throw Error("No calls provided");if(i)return await tr(e,a);let o=a.calls.map(e=>{if(!e.to)throw Error("Transaction target (to) is required");return{target:e.to,allowFailure:!1,value:BigInt(e.value??0),callData:e.data??"0x"}}),l=(0,U.R)({abi:[{name:"batchCall",type:"function",inputs:[{type:"tuple[]",name:"calls",components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"value",type:"uint256"},{name:"callData",type:"bytes"}]}],outputs:[]}],args:[o]}),d=o.reduce((e,t)=>e+BigInt(t.value),BigInt(0)),m=await e$(n,e.account.address);if(m)s={to:e.account.address,data:l,value:d,paymaster:p,paymasterInput:y,type:"eip712"};else{let n={target:e.account.address,allowFailure:!1,value:d,callData:l},a=ej(t.account.address,eO,n),i=(0,z.O0)(t.account.address),r=(0,q.w)(i);s={to:eE,data:(0,U.R)({abi:eB,functionName:"deployAccount",args:[r,a]}),value:d,paymaster:p,paymasterInput:y,type:"eip712"}}return tP(e,t,n,{...s,...u},eO,!m)}async function tD(e,t,n,a,i=!1){if(i)return await tr(e,a);let s=await e$(n,e.account.address);if(!s){let e={target:a.to,allowFailure:!1,value:a.value??0,callData:a.data??"0x"},n=ej(t.account.address,eO,e),i=(0,z.O0)(t.account.address),s=(0,q.w)(i),r=(0,U.R)({abi:eB,functionName:"deployAccount",args:[s,n]});a.to=eE,a.data=r}return tP(e,t,n,a,eO,!s)}let tS=[{type:"function",name:"DELEGATE_REGISTRY",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"GLOBAL_DELEGATION",inputs:[],outputs:[{name:"",type:"bytes24",internalType:"bytes24"}],stateMutability:"view"},{type:"function",name:"decodeRightsExpiration",inputs:[{name:"rights",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"",type:"bytes24",internalType:"bytes24"},{name:"",type:"uint40",internalType:"uint40"}],stateMutability:"pure"},{type:"function",name:"delegatedWalletsByRights",inputs:[{name:"wallet",type:"address",internalType:"address"},{name:"rights",type:"bytes24",internalType:"bytes24"}],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"view"},{type:"function",name:"exclusiveOwnerByRights",inputs:[{name:"contractAddress",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"rights",type:"bytes24",internalType:"bytes24"}],outputs:[{name:"owner",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"exclusiveWalletByRights",inputs:[{name:"vault",type:"address",internalType:"address"},{name:"rights",type:"bytes24",internalType:"bytes24"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"generateRightsWithExpiration",inputs:[{name:"rightsIdentifier",type:"bytes24",internalType:"bytes24"},{name:"expiration",type:"uint40",internalType:"uint40"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"pure"}];async function tB(e,t){let{agwAddress:n}=t;if(!(0,H.U)(n,{strict:!1}))throw new G.b({address:n});let a=(0,f.K)(n);return{linkedAccounts:[...await (0,A.s)(e,eQ.L,"readContract")({abi:tS,address:eG,functionName:"delegatedWalletsByRights",args:[a,eH]})]}}async function tN(e,t){let{address:n=e.account?.address}=t;if(void 0===n)throw new Y.G("No address provided");if(!(0,H.U)(n,{strict:!1}))throw new G.b({address:n});let a=(0,f.K)(n),i=await (0,A.s)(e,eQ.L,"readContract")({abi:tS,address:eG,functionName:"exclusiveWalletByRights",args:[a,eH]});return i===a?{agw:void 0}:{agw:i}}async function tE(e,t){let{address:n}=t;if(void 0===e.account)throw new tl({docsPath:"/docs/contract/readContract"});let a=(0,L.T)(e.account),{agw:i}=await tN(e,{address:n});return i===a.address}var tO=n(635),tR=n(28837);async function tF(e,t){let{account:n,...a}=t,i=n?(0,L.T)(n):e.account,s=e.chain?.formatters,r=s?.transactionRequest?.format({...a,from:i?.address});return await e.request({method:"zks_estimateGasL1ToL2",params:[r]})}async function tk(e,t){let{account:n}=t,a=n?(0,L.T)(n):e.account,i=await e.request({method:"zks_getAllAccountBalances",params:[a.address]}),s={};for(let e in i)s[e]=(0,W.y_)(i[e]);return s}async function tG(e){return await e.request({method:"zks_getBaseTokenL1Address"})}async function tH(e,t){return await e.request({method:"zks_getBlockDetails",params:[t.number]})}async function tV(e){return await e.request({method:"zks_getBridgehubContract"})}async function tz(e){let t=await e.request({method:"zks_getBridgeContracts"});return{erc20L1:t.l1Erc20DefaultBridge,sharedL1:t.l1SharedDefaultBridge,sharedL2:t.l2SharedDefaultBridge}}async function tq(e,t){let[n,a]=await e.request({method:"zks_getL1BatchBlockRange",params:[t.l1BatchNumber]});return[(0,W.ly)(n),(0,W.ly)(a)]}async function tU(e,t){return await e.request({method:"zks_getL1BatchDetails",params:[t.number]})}async function tK(e){return await e.request({method:"zks_L1BatchNumber"})}async function tW(e){return await e.request({method:"zks_L1ChainId"})}var tY=n(48465);let t$="0x0000000000000000000000000000000000000000";async function tj(e,t){let{token:n}=t;if((0,tY.E)(n,t$))return t$;let a=(await tz(e)).sharedL2;return await (0,eQ.L)(e,{address:a,abi:tn,functionName:"l1TokenAddress",args:[n]})}async function tJ(e,t){let{token:n,bridgeAddress:a}=t;(0,tY.E)(n,t$)&&(n="0x0000000000000000000000000000000000000001");let i=await tG(e);return(0,tY.E)(n,i)?"0x000000000000000000000000000000000000800a":(a??=(await tz(e)).sharedL2,await (0,eQ.L)(e,{address:a,abi:tn,functionName:"l2TokenAddress",args:[n]}))}async function tZ(e,t){return await e.request({method:"zks_getL2ToL1LogProof",params:[t.txHash,t.index]})}async function tQ(e){return await e.request({method:"zks_getMainContract"})}async function tX(e,t){return function e(t){return t&&"object"==typeof t?Array.isArray(t)?t.map(e):Object.fromEntries(Object.entries(t).map(([t,n])=>[t.replace(/_([a-z])/g,(e,t)=>t.toUpperCase()),e(n)])):t}(await e.request({method:"zks_getRawBlockTransactions",params:[t.number]}))}async function t2(e){return await e.request({method:"zks_getTestnetPaymaster"})}async function t0(e,t){return await e.request({method:"zks_getTransactionDetails",params:[t.txHash]})}let t6=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"AddressTooLow",type:"error"},{inputs:[],name:"BridgeHubAlreadyRegistered",type:"error"},{inputs:[],name:"ChainIdTooBig",type:"error"},{inputs:[{internalType:"uint256",name:"expectedMsgValue",type:"uint256"},{internalType:"uint256",name:"providedMsgValue",type:"uint256"}],name:"MsgValueMismatch",type:"error"},{inputs:[],name:"NotInitializedReentrancyGuard",type:"error"},{inputs:[],name:"Reentrancy",type:"error"},{inputs:[],name:"STMAlreadyRegistered",type:"error"},{inputs:[],name:"STMNotRegistered",type:"error"},{inputs:[],name:"SharedBridgeNotSet",type:"error"},{inputs:[],name:"SlotOccupied",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"TokenAlreadyRegistered",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"TokenNotRegistered",type:"error"},{inputs:[{internalType:"address",name:"caller",type:"address"}],name:"Unauthorized",type:"error"},{inputs:[{internalType:"uint256",name:"expectedMagicValue",type:"uint256"},{internalType:"uint256",name:"providedMagicValue",type:"uint256"}],name:"WrongMagicValue",type:"error"},{inputs:[],name:"ZeroAddress",type:"error"},{inputs:[],name:"ZeroChainId",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldAdmin",type:"address"},{indexed:!0,internalType:"address",name:"newAdmin",type:"address"}],name:"NewAdmin",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"chainId",type:"uint256"},{indexed:!1,internalType:"address",name:"stateTransitionManager",type:"address"},{indexed:!0,internalType:"address",name:"chainGovernance",type:"address"}],name:"NewChain",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldPendingAdmin",type:"address"},{indexed:!0,internalType:"address",name:"newPendingAdmin",type:"address"}],name:"NewPendingAdmin",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"acceptAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_stateTransitionManager",type:"address"}],name:"addStateTransitionManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"}],name:"addToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"admin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_chainId",type:"uint256"}],name:"baseToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_chainId",type:"uint256"},{internalType:"address",name:"_stateTransitionManager",type:"address"},{internalType:"address",name:"_baseToken",type:"address"},{internalType:"uint256",name:"_salt",type:"uint256"},{internalType:"address",name:"_admin",type:"address"},{internalType:"bytes",name:"_initData",type:"bytes"}],name:"createNewChain",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_chainId",type:"uint256"}],name:"getHyperchain",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_chainId",type:"uint256"},{internalType:"uint256",name:"_gasPrice",type:"uint256"},{internalType:"uint256",name:"_l2GasLimit",type:"uint256"},{internalType:"uint256",name:"_l2GasPerPubdataByteLimit",type:"uint256"}],name:"l2TransactionBaseCost",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_chainId",type:"uint256"},{internalType:"bytes32",name:"_l2TxHash",type:"bytes32"},{internalType:"uint256",name:"_l2BatchNumber",type:"uint256"},{internalType:"uint256",name:"_l2MessageIndex",type:"uint256"},{internalType:"uint16",name:"_l2TxNumberInBatch",type:"uint16"},{internalType:"bytes32[]",name:"_merkleProof",type:"bytes32[]"},{internalType:"enum TxStatus",name:"_status",type:"uint8"}],name:"proveL1ToL2TransactionStatus",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_chainId",type:"uint256"},{internalType:"uint256",name:"_batchNumber",type:"uint256"},{internalType:"uint256",name:"_index",type:"uint256"},{components:[{internalType:"uint8",name:"l2ShardId",type:"uint8"},{internalType:"bool",name:"isService",type:"bool"},{internalType:"uint16",name:"txNumberInBatch",type:"uint16"},{internalType:"address",name:"sender",type:"address"},{internalType:"bytes32",name:"key",type:"bytes32"},{internalType:"bytes32",name:"value",type:"bytes32"}],internalType:"struct L2Log",name:"_log",type:"tuple"},{internalType:"bytes32[]",name:"_proof",type:"bytes32[]"}],name:"proveL2LogInclusion",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_chainId",type:"uint256"},{internalType:"uint256",name:"_batchNumber",type:"uint256"},{internalType:"uint256",name:"_index",type:"uint256"},{components:[{internalType:"uint16",name:"txNumberInBatch",type:"uint16"},{internalType:"address",name:"sender",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct L2Message",name:"_message",type:"tuple"},{internalType:"bytes32[]",name:"_proof",type:"bytes32[]"}],name:"proveL2MessageInclusion",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_stateTransitionManager",type:"address"}],name:"removeStateTransitionManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"uint256",name:"mintValue",type:"uint256"},{internalType:"address",name:"l2Contract",type:"address"},{internalType:"uint256",name:"l2Value",type:"uint256"},{internalType:"bytes",name:"l2Calldata",type:"bytes"},{internalType:"uint256",name:"l2GasLimit",type:"uint256"},{internalType:"uint256",name:"l2GasPerPubdataByteLimit",type:"uint256"},{internalType:"bytes[]",name:"factoryDeps",type:"bytes[]"},{internalType:"address",name:"refundRecipient",type:"address"}],internalType:"struct L2TransactionRequestDirect",name:"_request",type:"tuple"}],name:"requestL2TransactionDirect",outputs:[{internalType:"bytes32",name:"canonicalTxHash",type:"bytes32"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"uint256",name:"mintValue",type:"uint256"},{internalType:"uint256",name:"l2Value",type:"uint256"},{internalType:"uint256",name:"l2GasLimit",type:"uint256"},{internalType:"uint256",name:"l2GasPerPubdataByteLimit",type:"uint256"},{internalType:"address",name:"refundRecipient",type:"address"},{internalType:"address",name:"secondBridgeAddress",type:"address"},{internalType:"uint256",name:"secondBridgeValue",type:"uint256"},{internalType:"bytes",name:"secondBridgeCalldata",type:"bytes"}],internalType:"struct L2TransactionRequestTwoBridgesOuter",name:"_request",type:"tuple"}],name:"requestL2TransactionTwoBridges",outputs:[{internalType:"bytes32",name:"canonicalTxHash",type:"bytes32"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_newPendingAdmin",type:"address"}],name:"setPendingAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_sharedBridge",type:"address"}],name:"setSharedBridge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"sharedBridge",outputs:[{internalType:"contract IL1SharedBridge",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_chainId",type:"uint256"}],name:"stateTransitionManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_stateTransitionManager",type:"address"}],name:"stateTransitionManagerIsRegistered",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"}],name:"tokenIsRegistered",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"}],t5=[{type:"function",name:"checkDelegateForAll",inputs:[{name:"to",type:"address",internalType:"address"},{name:"from",type:"address",internalType:"address"},{name:"rights",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"valid",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"checkDelegateForContract",inputs:[{name:"to",type:"address",internalType:"address"},{name:"from",type:"address",internalType:"address"},{name:"contract_",type:"address",internalType:"address"},{name:"rights",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"valid",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"checkDelegateForERC1155",inputs:[{name:"to",type:"address",internalType:"address"},{name:"from",type:"address",internalType:"address"},{name:"contract_",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"rights",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"checkDelegateForERC20",inputs:[{name:"to",type:"address",internalType:"address"},{name:"from",type:"address",internalType:"address"},{name:"contract_",type:"address",internalType:"address"},{name:"rights",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"amount",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"checkDelegateForERC721",inputs:[{name:"to",type:"address",internalType:"address"},{name:"from",type:"address",internalType:"address"},{name:"contract_",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"rights",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"valid",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"delegateAll",inputs:[{name:"to",type:"address",internalType:"address"},{name:"rights",type:"bytes32",internalType:"bytes32"},{name:"enable",type:"bool",internalType:"bool"}],outputs:[{name:"hash",type:"bytes32",internalType:"bytes32"}],stateMutability:"payable"},{type:"function",name:"delegateContract",inputs:[{name:"to",type:"address",internalType:"address"},{name:"contract_",type:"address",internalType:"address"},{name:"rights",type:"bytes32",internalType:"bytes32"},{name:"enable",type:"bool",internalType:"bool"}],outputs:[{name:"hash",type:"bytes32",internalType:"bytes32"}],stateMutability:"payable"},{type:"function",name:"delegateERC1155",inputs:[{name:"to",type:"address",internalType:"address"},{name:"contract_",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"rights",type:"bytes32",internalType:"bytes32"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[{name:"hash",type:"bytes32",internalType:"bytes32"}],stateMutability:"payable"},{type:"function",name:"delegateERC20",inputs:[{name:"to",type:"address",internalType:"address"},{name:"contract_",type:"address",internalType:"address"},{name:"rights",type:"bytes32",internalType:"bytes32"},{name:"amount",type:"uint256",internalType:"uint256"}],outputs:[{name:"hash",type:"bytes32",internalType:"bytes32"}],stateMutability:"payable"},{type:"function",name:"delegateERC721",inputs:[{name:"to",type:"address",internalType:"address"},{name:"contract_",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"rights",type:"bytes32",internalType:"bytes32"},{name:"enable",type:"bool",internalType:"bool"}],outputs:[{name:"hash",type:"bytes32",internalType:"bytes32"}],stateMutability:"payable"},{type:"function",name:"getDelegationsFromHashes",inputs:[{name:"hashes",type:"bytes32[]",internalType:"bytes32[]"}],outputs:[{name:"delegations_",type:"tuple[]",internalType:"struct IDelegateRegistry.Delegation[]",components:[{name:"type_",type:"uint8",internalType:"enum IDelegateRegistry.DelegationType"},{name:"to",type:"address",internalType:"address"},{name:"from",type:"address",internalType:"address"},{name:"rights",type:"bytes32",internalType:"bytes32"},{name:"contract_",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"amount",type:"uint256",internalType:"uint256"}]}],stateMutability:"view"},{type:"function",name:"getIncomingDelegationHashes",inputs:[{name:"to",type:"address",internalType:"address"}],outputs:[{name:"delegationHashes",type:"bytes32[]",internalType:"bytes32[]"}],stateMutability:"view"},{type:"function",name:"getIncomingDelegations",inputs:[{name:"to",type:"address",internalType:"address"}],outputs:[{name:"delegations_",type:"tuple[]",internalType:"struct IDelegateRegistry.Delegation[]",components:[{name:"type_",type:"uint8",internalType:"enum IDelegateRegistry.DelegationType"},{name:"to",type:"address",internalType:"address"},{name:"from",type:"address",internalType:"address"},{name:"rights",type:"bytes32",internalType:"bytes32"},{name:"contract_",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"amount",type:"uint256",internalType:"uint256"}]}],stateMutability:"view"},{type:"function",name:"getOutgoingDelegationHashes",inputs:[{name:"from",type:"address",internalType:"address"}],outputs:[{name:"delegationHashes",type:"bytes32[]",internalType:"bytes32[]"}],stateMutability:"view"},{type:"function",name:"getOutgoingDelegations",inputs:[{name:"from",type:"address",internalType:"address"}],outputs:[{name:"delegations_",type:"tuple[]",internalType:"struct IDelegateRegistry.Delegation[]",components:[{name:"type_",type:"uint8",internalType:"enum IDelegateRegistry.DelegationType"},{name:"to",type:"address",internalType:"address"},{name:"from",type:"address",internalType:"address"},{name:"rights",type:"bytes32",internalType:"bytes32"},{name:"contract_",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"amount",type:"uint256",internalType:"uint256"}]}],stateMutability:"view"},{type:"function",name:"multicall",inputs:[{name:"data",type:"bytes[]",internalType:"bytes[]"}],outputs:[{name:"results",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"readSlot",inputs:[{name:"location",type:"bytes32",internalType:"bytes32"}],outputs:[{name:"contents",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"readSlots",inputs:[{name:"locations",type:"bytes32[]",internalType:"bytes32[]"}],outputs:[{name:"contents",type:"bytes32[]",internalType:"bytes32[]"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"pure"},{type:"function",name:"sweep",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"DelegateAll",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"rights",type:"bytes32",indexed:!1,internalType:"bytes32"},{name:"enable",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"DelegateContract",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"contract_",type:"address",indexed:!0,internalType:"address"},{name:"rights",type:"bytes32",indexed:!1,internalType:"bytes32"},{name:"enable",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"DelegateERC1155",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"contract_",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"rights",type:"bytes32",indexed:!1,internalType:"bytes32"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"DelegateERC20",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"contract_",type:"address",indexed:!0,internalType:"address"},{name:"rights",type:"bytes32",indexed:!1,internalType:"bytes32"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"DelegateERC721",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"contract_",type:"address",indexed:!0,internalType:"address"},{name:"tokenId",type:"uint256",indexed:!1,internalType:"uint256"},{name:"rights",type:"bytes32",indexed:!1,internalType:"bytes32"},{name:"enable",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"error",name:"MulticallFailed",inputs:[]}],t1=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"batchNumber",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"batchHash",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"commitment",type:"bytes32"}],name:"BlockCommit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"batchNumber",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"batchHash",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"commitment",type:"bytes32"}],name:"BlockExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"totalBatchesCommitted",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalBatchesVerified",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalBatchesExecuted",type:"uint256"}],name:"BlocksRevert",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"previousLastVerifiedBatch",type:"uint256"},{indexed:!0,internalType:"uint256",name:"currentLastVerifiedBatch",type:"uint256"}],name:"BlocksVerification",type:"event"},{anonymous:!1,inputs:[{components:[{components:[{internalType:"address",name:"facet",type:"address"},{internalType:"enum Diamond.Action",name:"action",type:"uint8"},{internalType:"bool",name:"isFreezable",type:"bool"},{internalType:"bytes4[]",name:"selectors",type:"bytes4[]"}],internalType:"struct Diamond.FacetCut[]",name:"facetCuts",type:"tuple[]"},{internalType:"address",name:"initAddress",type:"address"},{internalType:"bytes",name:"initCalldata",type:"bytes"}],indexed:!1,internalType:"struct Diamond.DiamondCutData",name:"diamondCut",type:"tuple"}],name:"ExecuteUpgrade",type:"event"},{anonymous:!1,inputs:[],name:"Freeze",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isPorterAvailable",type:"bool"}],name:"IsPorterAvailableStatusUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldAdmin",type:"address"},{indexed:!0,internalType:"address",name:"newAdmin",type:"address"}],name:"NewAdmin",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint128",name:"oldNominator",type:"uint128"},{indexed:!1,internalType:"uint128",name:"oldDenominator",type:"uint128"},{indexed:!1,internalType:"uint128",name:"newNominator",type:"uint128"},{indexed:!1,internalType:"uint128",name:"newDenominator",type:"uint128"}],name:"NewBaseTokenMultiplier",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"enum PubdataPricingMode",name:"pubdataPricingMode",type:"uint8"},{internalType:"uint32",name:"batchOverheadL1Gas",type:"uint32"},{internalType:"uint32",name:"maxPubdataPerBatch",type:"uint32"},{internalType:"uint32",name:"maxL2GasPerBatch",type:"uint32"},{internalType:"uint32",name:"priorityTxMaxPubdata",type:"uint32"},{internalType:"uint64",name:"minimalL2GasPrice",type:"uint64"}],indexed:!1,internalType:"struct FeeParams",name:"oldFeeParams",type:"tuple"},{components:[{internalType:"enum PubdataPricingMode",name:"pubdataPricingMode",type:"uint8"},{internalType:"uint32",name:"batchOverheadL1Gas",type:"uint32"},{internalType:"uint32",name:"maxPubdataPerBatch",type:"uint32"},{internalType:"uint32",name:"maxL2GasPerBatch",type:"uint32"},{internalType:"uint32",name:"priorityTxMaxPubdata",type:"uint32"},{internalType:"uint64",name:"minimalL2GasPrice",type:"uint64"}],indexed:!1,internalType:"struct FeeParams",name:"newFeeParams",type:"tuple"}],name:"NewFeeParams",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldPendingAdmin",type:"address"},{indexed:!0,internalType:"address",name:"newPendingAdmin",type:"address"}],name:"NewPendingAdmin",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"txId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"txHash",type:"bytes32"},{indexed:!1,internalType:"uint64",name:"expirationTimestamp",type:"uint64"},{components:[{internalType:"uint256",name:"txType",type:"uint256"},{internalType:"uint256",name:"from",type:"uint256"},{internalType:"uint256",name:"to",type:"uint256"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"uint256",name:"gasPerPubdataByteLimit",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"uint256",name:"paymaster",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256[4]",name:"reserved",type:"uint256[4]"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"uint256[]",name:"factoryDeps",type:"uint256[]"},{internalType:"bytes",name:"paymasterInput",type:"bytes"},{internalType:"bytes",name:"reservedDynamic",type:"bytes"}],indexed:!1,internalType:"struct L2CanonicalTransaction",name:"transaction",type:"tuple"},{indexed:!1,internalType:"bytes[]",name:"factoryDeps",type:"bytes[]"}],name:"NewPriorityRequest",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oldPriorityTxMaxGasLimit",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newPriorityTxMaxGasLimit",type:"uint256"}],name:"NewPriorityTxMaxGasLimit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldTransactionFilterer",type:"address"},{indexed:!1,internalType:"address",name:"newTransactionFilterer",type:"address"}],name:"NewTransactionFilterer",type:"event"},{anonymous:!1,inputs:[{components:[{components:[{internalType:"address",name:"facet",type:"address"},{internalType:"enum Diamond.Action",name:"action",type:"uint8"},{internalType:"bool",name:"isFreezable",type:"bool"},{internalType:"bytes4[]",name:"selectors",type:"bytes4[]"}],internalType:"struct Diamond.FacetCut[]",name:"facetCuts",type:"tuple[]"},{internalType:"address",name:"initAddress",type:"address"},{internalType:"bytes",name:"initCalldata",type:"bytes"}],indexed:!1,internalType:"struct Diamond.DiamondCutData",name:"diamondCut",type:"tuple"},{indexed:!0,internalType:"uint256",name:"proposalId",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"proposalSalt",type:"bytes32"}],name:"ProposeTransparentUpgrade",type:"event"},{anonymous:!1,inputs:[],name:"Unfreeze",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"validatorAddress",type:"address"},{indexed:!1,internalType:"bool",name:"isActive",type:"bool"}],name:"ValidatorStatusUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"enum PubdataPricingMode",name:"validiumMode",type:"uint8"}],name:"ValidiumModeStatusUpdate",type:"event"},{inputs:[],name:"acceptAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"baseTokenGasPriceMultiplierDenominator",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseTokenGasPriceMultiplierNominator",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"contractL2",type:"address"},{internalType:"uint256",name:"mintValue",type:"uint256"},{internalType:"uint256",name:"l2Value",type:"uint256"},{internalType:"bytes",name:"l2Calldata",type:"bytes"},{internalType:"uint256",name:"l2GasLimit",type:"uint256"},{internalType:"uint256",name:"l2GasPerPubdataByteLimit",type:"uint256"},{internalType:"bytes[]",name:"factoryDeps",type:"bytes[]"},{internalType:"address",name:"refundRecipient",type:"address"}],internalType:"struct BridgehubL2TransactionRequest",name:"_request",type:"tuple"}],name:"bridgehubRequestL2Transaction",outputs:[{internalType:"bytes32",name:"canonicalTxHash",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"enum PubdataPricingMode",name:"pubdataPricingMode",type:"uint8"},{internalType:"uint32",name:"batchOverheadL1Gas",type:"uint32"},{internalType:"uint32",name:"maxPubdataPerBatch",type:"uint32"},{internalType:"uint32",name:"maxL2GasPerBatch",type:"uint32"},{internalType:"uint32",name:"priorityTxMaxPubdata",type:"uint32"},{internalType:"uint64",name:"minimalL2GasPrice",type:"uint64"}],internalType:"struct FeeParams",name:"_newFeeParams",type:"tuple"}],name:"changeFeeParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"batchNumber",type:"uint64"},{internalType:"bytes32",name:"batchHash",type:"bytes32"},{internalType:"uint64",name:"indexRepeatedStorageChanges",type:"uint64"},{internalType:"uint256",name:"numberOfLayer1Txs",type:"uint256"},{internalType:"bytes32",name:"priorityOperationsHash",type:"bytes32"},{internalType:"bytes32",name:"l2LogsTreeRoot",type:"bytes32"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bytes32",name:"commitment",type:"bytes32"}],internalType:"struct IExecutor.StoredBatchInfo",name:"_lastCommittedBatchData",type:"tuple"},{components:[{internalType:"uint64",name:"batchNumber",type:"uint64"},{internalType:"uint64",name:"timestamp",type:"uint64"},{internalType:"uint64",name:"indexRepeatedStorageChanges",type:"uint64"},{internalType:"bytes32",name:"newStateRoot",type:"bytes32"},{internalType:"uint256",name:"numberOfLayer1Txs",type:"uint256"},{internalType:"bytes32",name:"priorityOperationsHash",type:"bytes32"},{internalType:"bytes32",name:"bootloaderHeapInitialContentsHash",type:"bytes32"},{internalType:"bytes32",name:"eventsQueueStateHash",type:"bytes32"},{internalType:"bytes",name:"systemLogs",type:"bytes"},{internalType:"bytes",name:"pubdataCommitments",type:"bytes"}],internalType:"struct IExecutor.CommitBatchInfo[]",name:"_newBatchesData",type:"tuple[]"}],name:"commitBatches",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_chainId",type:"uint256"},{components:[{internalType:"uint64",name:"batchNumber",type:"uint64"},{internalType:"bytes32",name:"batchHash",type:"bytes32"},{internalType:"uint64",name:"indexRepeatedStorageChanges",type:"uint64"},{internalType:"uint256",name:"numberOfLayer1Txs",type:"uint256"},{internalType:"bytes32",name:"priorityOperationsHash",type:"bytes32"},{internalType:"bytes32",name:"l2LogsTreeRoot",type:"bytes32"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bytes32",name:"commitment",type:"bytes32"}],internalType:"struct IExecutor.StoredBatchInfo",name:"_lastCommittedBatchData",type:"tuple"},{components:[{internalType:"uint64",name:"batchNumber",type:"uint64"},{internalType:"uint64",name:"timestamp",type:"uint64"},{internalType:"uint64",name:"indexRepeatedStorageChanges",type:"uint64"},{internalType:"bytes32",name:"newStateRoot",type:"bytes32"},{internalType:"uint256",name:"numberOfLayer1Txs",type:"uint256"},{internalType:"bytes32",name:"priorityOperationsHash",type:"bytes32"},{internalType:"bytes32",name:"bootloaderHeapInitialContentsHash",type:"bytes32"},{internalType:"bytes32",name:"eventsQueueStateHash",type:"bytes32"},{internalType:"bytes",name:"systemLogs",type:"bytes"},{internalType:"bytes",name:"pubdataCommitments",type:"bytes"}],internalType:"struct IExecutor.CommitBatchInfo[]",name:"_newBatchesData",type:"tuple[]"}],name:"commitBatchesSharedBridge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"batchNumber",type:"uint64"},{internalType:"bytes32",name:"batchHash",type:"bytes32"},{internalType:"uint64",name:"indexRepeatedStorageChanges",type:"uint64"},{internalType:"uint256",name:"numberOfLayer1Txs",type:"uint256"},{internalType:"bytes32",name:"priorityOperationsHash",type:"bytes32"},{internalType:"bytes32",name:"l2LogsTreeRoot",type:"bytes32"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bytes32",name:"commitment",type:"bytes32"}],internalType:"struct IExecutor.StoredBatchInfo[]",name:"_batchesData",type:"tuple[]"}],name:"executeBatches",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_chainId",type:"uint256"},{components:[{internalType:"uint64",name:"batchNumber",type:"uint64"},{internalType:"bytes32",name:"batchHash",type:"bytes32"},{internalType:"uint64",name:"indexRepeatedStorageChanges",type:"uint64"},{internalType:"uint256",name:"numberOfLayer1Txs",type:"uint256"},{internalType:"bytes32",name:"priorityOperationsHash",type:"bytes32"},{internalType:"bytes32",name:"l2LogsTreeRoot",type:"bytes32"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bytes32",name:"commitment",type:"bytes32"}],internalType:"struct IExecutor.StoredBatchInfo[]",name:"_batchesData",type:"tuple[]"}],name:"executeBatchesSharedBridge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"facet",type:"address"},{internalType:"enum Diamond.Action",name:"action",type:"uint8"},{internalType:"bool",name:"isFreezable",type:"bool"},{internalType:"bytes4[]",name:"selectors",type:"bytes4[]"}],internalType:"struct Diamond.FacetCut[]",name:"facetCuts",type:"tuple[]"},{internalType:"address",name:"initAddress",type:"address"},{internalType:"bytes",name:"initCalldata",type:"bytes"}],internalType:"struct Diamond.DiamondCutData",name:"_diamondCut",type:"tuple"}],name:"executeUpgrade",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"_selector",type:"bytes4"}],name:"facetAddress",outputs:[{internalType:"address",name:"facet",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"facetAddresses",outputs:[{internalType:"address[]",name:"facets",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_facet",type:"address"}],name:"facetFunctionSelectors",outputs:[{internalType:"bytes4[]",name:"",type:"bytes4[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"facets",outputs:[{components:[{internalType:"address",name:"addr",type:"address"},{internalType:"bytes4[]",name:"selectors",type:"bytes4[]"}],internalType:"struct IGetters.Facet[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_l2BatchNumber",type:"uint256"},{internalType:"uint256",name:"_l2MessageIndex",type:"uint256"},{internalType:"uint16",name:"_l2TxNumberInBatch",type:"uint16"},{internalType:"bytes",name:"_message",type:"bytes"},{internalType:"bytes32[]",name:"_merkleProof",type:"bytes32[]"}],name:"finalizeEthWithdrawal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"freezeDiamond",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAdmin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBaseToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBaseTokenBridge",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBridgehub",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getFirstUnprocessedPriorityTx",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getL2BootloaderBytecodeHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getL2DefaultAccountBytecodeHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getL2SystemContractsUpgradeBatchNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getL2SystemContractsUpgradeTxHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPendingAdmin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPriorityQueueSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPriorityTxMaxGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProtocolVersion",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPubdataPricingMode",outputs:[{internalType:"enum PubdataPricingMode",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSemverProtocolVersion",outputs:[{internalType:"uint32",name:"",type:"uint32"},{internalType:"uint32",name:"",type:"uint32"},{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStateTransitionManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalBatchesCommitted",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalBatchesExecuted",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalBatchesVerified",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalPriorityTxs",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVerifier",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVerifierParams",outputs:[{components:[{internalType:"bytes32",name:"recursionNodeLevelVkHash",type:"bytes32"},{internalType:"bytes32",name:"recursionLeafLevelVkHash",type:"bytes32"},{internalType:"bytes32",name:"recursionCircuitsSetVksHash",type:"bytes32"}],internalType:"struct VerifierParams",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"isDiamondStorageFrozen",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_l2BatchNumber",type:"uint256"},{internalType:"uint256",name:"_l2MessageIndex",type:"uint256"}],name:"isEthWithdrawalFinalized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_facet",type:"address"}],name:"isFacetFreezable",outputs:[{internalType:"bool",name:"isFreezable",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"_selector",type:"bytes4"}],name:"isFunctionFreezable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"isValidator",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_batchNumber",type:"uint256"}],name:"l2LogsRootHash",outputs:[{internalType:"bytes32",name:"merkleRoot",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_gasPrice",type:"uint256"},{internalType:"uint256",name:"_l2GasLimit",type:"uint256"},{internalType:"uint256",name:"_l2GasPerPubdataByteLimit",type:"uint256"}],name:"l2TransactionBaseCost",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"priorityQueueFrontOperation",outputs:[{components:[{internalType:"bytes32",name:"canonicalTxHash",type:"bytes32"},{internalType:"uint64",name:"expirationTimestamp",type:"uint64"},{internalType:"uint192",name:"layer2Tip",type:"uint192"}],internalType:"struct PriorityOperation",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"batchNumber",type:"uint64"},{internalType:"bytes32",name:"batchHash",type:"bytes32"},{internalType:"uint64",name:"indexRepeatedStorageChanges",type:"uint64"},{internalType:"uint256",name:"numberOfLayer1Txs",type:"uint256"},{internalType:"bytes32",name:"priorityOperationsHash",type:"bytes32"},{internalType:"bytes32",name:"l2LogsTreeRoot",type:"bytes32"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bytes32",name:"commitment",type:"bytes32"}],internalType:"struct IExecutor.StoredBatchInfo",name:"_prevBatch",type:"tuple"},{components:[{internalType:"uint64",name:"batchNumber",type:"uint64"},{internalType:"bytes32",name:"batchHash",type:"bytes32"},{internalType:"uint64",name:"indexRepeatedStorageChanges",type:"uint64"},{internalType:"uint256",name:"numberOfLayer1Txs",type:"uint256"},{internalType:"bytes32",name:"priorityOperationsHash",type:"bytes32"},{internalType:"bytes32",name:"l2LogsTreeRoot",type:"bytes32"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bytes32",name:"commitment",type:"bytes32"}],internalType:"struct IExecutor.StoredBatchInfo[]",name:"_committedBatches",type:"tuple[]"},{components:[{internalType:"uint256[]",name:"recursiveAggregationInput",type:"uint256[]"},{internalType:"uint256[]",name:"serializedProof",type:"uint256[]"}],internalType:"struct IExecutor.ProofInput",name:"_proof",type:"tuple"}],name:"proveBatches",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_chainId",type:"uint256"},{components:[{internalType:"uint64",name:"batchNumber",type:"uint64"},{internalType:"bytes32",name:"batchHash",type:"bytes32"},{internalType:"uint64",name:"indexRepeatedStorageChanges",type:"uint64"},{internalType:"uint256",name:"numberOfLayer1Txs",type:"uint256"},{internalType:"bytes32",name:"priorityOperationsHash",type:"bytes32"},{internalType:"bytes32",name:"l2LogsTreeRoot",type:"bytes32"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bytes32",name:"commitment",type:"bytes32"}],internalType:"struct IExecutor.StoredBatchInfo",name:"_prevBatch",type:"tuple"},{components:[{internalType:"uint64",name:"batchNumber",type:"uint64"},{internalType:"bytes32",name:"batchHash",type:"bytes32"},{internalType:"uint64",name:"indexRepeatedStorageChanges",type:"uint64"},{internalType:"uint256",name:"numberOfLayer1Txs",type:"uint256"},{internalType:"bytes32",name:"priorityOperationsHash",type:"bytes32"},{internalType:"bytes32",name:"l2LogsTreeRoot",type:"bytes32"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bytes32",name:"commitment",type:"bytes32"}],internalType:"struct IExecutor.StoredBatchInfo[]",name:"_committedBatches",type:"tuple[]"},{components:[{internalType:"uint256[]",name:"recursiveAggregationInput",type:"uint256[]"},{internalType:"uint256[]",name:"serializedProof",type:"uint256[]"}],internalType:"struct IExecutor.ProofInput",name:"_proof",type:"tuple"}],name:"proveBatchesSharedBridge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_l2TxHash",type:"bytes32"},{internalType:"uint256",name:"_l2BatchNumber",type:"uint256"},{internalType:"uint256",name:"_l2MessageIndex",type:"uint256"},{internalType:"uint16",name:"_l2TxNumberInBatch",type:"uint16"},{internalType:"bytes32[]",name:"_merkleProof",type:"bytes32[]"},{internalType:"enum TxStatus",name:"_status",type:"uint8"}],name:"proveL1ToL2TransactionStatus",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_batchNumber",type:"uint256"},{internalType:"uint256",name:"_index",type:"uint256"},{components:[{internalType:"uint8",name:"l2ShardId",type:"uint8"},{internalType:"bool",name:"isService",type:"bool"},{internalType:"uint16",name:"txNumberInBatch",type:"uint16"},{internalType:"address",name:"sender",type:"address"},{internalType:"bytes32",name:"key",type:"bytes32"},{internalType:"bytes32",name:"value",type:"bytes32"}],internalType:"struct L2Log",name:"_log",type:"tuple"},{internalType:"bytes32[]",name:"_proof",type:"bytes32[]"}],name:"proveL2LogInclusion",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_batchNumber",type:"uint256"},{internalType:"uint256",name:"_index",type:"uint256"},{components:[{internalType:"uint16",name:"txNumberInBatch",type:"uint16"},{internalType:"address",name:"sender",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct L2Message",name:"_message",type:"tuple"},{internalType:"bytes32[]",name:"_proof",type:"bytes32[]"}],name:"proveL2MessageInclusion",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_contractL2",type:"address"},{internalType:"uint256",name:"_l2Value",type:"uint256"},{internalType:"bytes",name:"_calldata",type:"bytes"},{internalType:"uint256",name:"_l2GasLimit",type:"uint256"},{internalType:"uint256",name:"_l2GasPerPubdataByteLimit",type:"uint256"},{internalType:"bytes[]",name:"_factoryDeps",type:"bytes[]"},{internalType:"address",name:"_refundRecipient",type:"address"}],name:"requestL2Transaction",outputs:[{internalType:"bytes32",name:"canonicalTxHash",type:"bytes32"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"_newLastBatch",type:"uint256"}],name:"revertBatches",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_chainId",type:"uint256"},{internalType:"uint256",name:"_newLastBatch",type:"uint256"}],name:"revertBatchesSharedBridge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newPendingAdmin",type:"address"}],name:"setPendingAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_zkPorterIsAvailable",type:"bool"}],name:"setPorterAvailability",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_newPriorityTxMaxGasLimit",type:"uint256"}],name:"setPriorityTxMaxGasLimit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum PubdataPricingMode",name:"_pricingMode",type:"uint8"}],name:"setPubdataPricingMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint128",name:"_nominator",type:"uint128"},{internalType:"uint128",name:"_denominator",type:"uint128"}],name:"setTokenMultiplier",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_transactionFilterer",type:"address"}],name:"setTransactionFilterer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_validator",type:"address"},{internalType:"bool",name:"_active",type:"bool"}],name:"setValidator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_batchNumber",type:"uint256"}],name:"storedBatchHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"transferEthToSharedBridge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unfreezeDiamond",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_protocolVersion",type:"uint256"},{components:[{components:[{internalType:"address",name:"facet",type:"address"},{internalType:"enum Diamond.Action",name:"action",type:"uint8"},{internalType:"bool",name:"isFreezable",type:"bool"},{internalType:"bytes4[]",name:"selectors",type:"bytes4[]"}],internalType:"struct Diamond.FacetCut[]",name:"facetCuts",type:"tuple[]"},{internalType:"address",name:"initAddress",type:"address"},{internalType:"bytes",name:"initCalldata",type:"bytes"}],internalType:"struct Diamond.DiamondCutData",name:"_cutData",type:"tuple"}],name:"upgradeChainFromVersion",outputs:[],stateMutability:"nonpayable",type:"function"}];async function t3(e,t){let{account:n=e.account,agwAddress:a,enabled:i,l2Chain:s}=t;if(!n)throw new tl;let r=(0,L.T)(n);if(!eK[s.id])throw new tO.G("Unsupported L2 Chain");let p=ez[s.id],y=(0,o.v)({chain:e.chain,transport:(0,u.d)()}),l=(0,o.v)({chain:s,transport:(0,u.d)()}).extend(e=>({estimateGasL1ToL2:t=>tF(e,t),getDefaultBridgeAddresses:()=>tz(e),getTestnetPaymasterAddress:()=>t2(e),getL1ChainId:()=>tW(e),getMainContractAddress:()=>tQ(e),getAllBalances:t=>tk(e,t),getRawBlockTransaction:t=>tX(e,t),getBlockDetails:t=>tH(e,t),getL1BatchDetails:t=>tU(e,t),getL1BatchBlockRange:t=>tq(e,t),getL1BatchNumber:()=>tK(e),getLogProof:t=>tZ(e,t),getTransactionDetails:t=>t0(e,t),estimateFee:t=>tT(e,t),getBridgehubContractAddress:()=>tV(e),getBaseTokenL1Address:()=>tG(e),getL2TokenAddress:t=>tJ(e,t),getL1TokenAddress:t=>tj(e,t)})),d=(0,U.R)({abi:t5,functionName:"delegateAll",args:[a,eV,i]}),m=await l.estimateGasL1ToL2({chain:l.chain,account:r.address,to:ek,data:d,value:0n}),c=await y.getGasPrice(),b=await y.estimateMaxPriorityFeePerGas(),T=3n*c/2n+b,f=await y.readContract({address:p,abi:t6,functionName:"l2TransactionBaseCost",args:[BigInt(l.chain.id),T,m,800n]}),g=f+0n+0n;f>g&&console.error("Base cost is greater than provided value");let h={chainId:BigInt(l.chain.id),mintValue:g,l2Contract:ek,l2Value:0n,l2Calldata:d,l2GasLimit:m,l2GasPerPubdataByteLimit:800n,factoryDeps:[],refundRecipient:a},w=await (0,A.s)(e,R.n,"writeContract")({abi:t6,address:p,chain:e.chain,account:r,functionName:"requestL2TransactionDirect",value:g,args:[h],maxFeePerGas:T,maxPriorityFeePerGas:b});return{l1TransactionHash:w,getL2TransactionHash:async()=>t4(y,w)}}async function t4(e,t){let n;let a=await e.waitForTransactionReceipt({hash:t});if("success"!==a.status)throw new tO.G("L1 transaction failed");for(let e of a.logs)try{let t=(0,tR.F)({abi:t1,data:e.data,topics:e.topics,strict:!1});t&&null!==t.args.txHash&&(n=t.args.txHash)}catch(e){}if(!n)throw new tO.G("Error getting L2 hash from L1 transaction");return n}async function t8(e,t){let{session:n,...a}=t,i="string"==typeof n?[n]:Array.isArray(n)?n.map(t7):[(0,q.w)(e1(n))];return{transactionHash:await (0,A.s)(e,R.n,"writeContract")({address:eR,abi:e2,functionName:"revokeKeys",args:[i],...a})}}function t7(e){return"string"==typeof e?e:(0,q.w)(e1(e))}async function t9(e,t,n,a,i){let s=await e$(n,e.account.address);if(!s)throw new Y.G("Smart account not deployed");let r=a.data?`0x${a.data.slice(2,10)}`:void 0;if(!a.to)throw new Y.G("Transaction to field is not specified");return tP(e,t,n,a,eR,!s,{[eR]:e3(i,e4({sessionConfig:i,target:a.to,selector:r,timestamp:BigInt(Math.floor(Date.now()/1e3))}))})}var ne=n(27100),nt=n(30784),nn=n(21391),na=n(93912),ni=n(84662);async function ns(e){let{client:t,signer:n,messageHash:a}=e,i=t.chain.id,s=t.account,r=await N(n,{domain:{name:"AbstractGlobalWallet",version:"1.0.0",chainId:BigInt(i),verifyingContract:s.address},types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],AGWMessage:[{name:"signedHash",type:"bytes32"}]},message:{signedHash:a},primaryType:"AGWMessage"}),p=(0,e6.E)(tL(["bytes","address"]),[r,eO]);if(void 0!==await (0,ni.C)(t,{address:s.address}))return p;let y=(0,z.O0)(n.account.address),u=(0,q.w)(y);return(0,nn.Z)({address:eE,data:(0,U.R)({abi:eB,functionName:"deployAccount",args:[u,ej(n.account.address,eO,{target:na.DR,allowFailure:!1,callData:"0x",value:0n})]}),signature:p})}async function nr(e,t,n,a=!1){return a?("object"==typeof n.message&&(n.message.raw instanceof Uint8Array?n.message=(0,ne.d3)(n.message.raw):n.message=(0,W.H_)(n.message.raw,"string")),await tp(e,n)):await ns({client:e,signer:t,messageHash:(0,nt.r)(n.message)})}async function np(e,t,n,a,i,s){if(!await e$(n,e.account.address))throw new Y.G("Smart account not deployed");let r=a.data?`0x${a.data.slice(2,10)}`:void 0;if(!a.to)throw new Y.G("Transaction to field is not specified");return await t_(e,t,a,eR,!1,{[eR]:e3(i,e4({sessionConfig:i,target:a.to,selector:r,timestamp:BigInt(Math.floor(Date.now()/1e3))}))},s)}var ny=n(50260),nu=n(74184);function no(e,t,n){if(128===n&&t<128)return 1;if(t<=n+55)return t-n;if(t===n+55+1)return e.readUint8();if(t===n+55+2)return e.readUint16();if(t===n+55+3)return e.readUint24();if(t===n+55+4)return e.readUint32();throw new Y.G("Invalid RLP prefix")}var nl=n(32111);async function nd(e,t,n,a=!1){if(eJ(n)){let i=eZ(n);if(i.chainId!==e.chain.id)throw new Y.G("Chain ID mismatch in AGW typed signature");let s=await t_(e,t,{...i,chain:e.chain},eO,!1,{},void 0,a);if(!s.startsWith("0x71"))throw new Y.G("Expected RLP encoded EIP-712 transaction as signature");let r=function(e,t="hex"){let n=(()=>{if("string"==typeof e){if(e.length>3&&e.length%2!=0)throw new ny.P9(e);return(0,z.nr)(e)}return e})();return function e(t,n="hex"){if(0===t.bytes.length)return"hex"===n?(0,m.ci)(t.bytes):t.bytes;let a=t.readByte();if(a<128&&t.decrementPosition(1),a<192){let e=no(t,a,128),i=t.readBytes(e);return"hex"===n?(0,m.ci)(i):i}let i=no(t,a,192);return function(t,n,a){let i=t.position,s=[];for(;t.position-i<n;)s.push(e(t,a));return s}(t,i,n)}((0,nu.q)(n,{recursiveReadLimit:Number.POSITIVE_INFINITY}),t)}(`0x${s.slice(4)}`,"hex");if(r.length<15)throw new Y.G("Expected RLP encoded EIP-712 transaction with at least 15 fields");return r[14]}return a?await ty(e,n):await ns({client:e,signer:t,messageHash:(0,nl.Jv)(n)})}async function nm(e,t,n,a,i){if(!eJ(n))throw new Y.G("Session client can only sign EIP712 transactions as typed data");let s=eZ(n);if(!s.to)throw new Y.G("Transaction must have a to address");let r={[eR]:e3(a,e4({sessionConfig:a,target:s.to,selector:s.data?.slice(0,10)??"0x",timestamp:BigInt(Math.floor(Date.now()/1e3))}))},{customSignature:p}=await tC(e,t,{chain:e.chain,...s},eR,!1,r,i);return p}var nc=n(37472);async function nb(e,t,n,a,i=!1){let{abi:s,account:r=e.account,address:p,args:y,dataSuffix:u,functionName:o,...l}=a;if(!r)throw new tl({docsPath:"/docs/contract/writeContract"});let d=(0,L.T)(r),m=(0,U.R)({abi:s,args:y,functionName:o});try{return await tD(e,t,n,{data:`${m}${u?u.replace("0x",""):""}`,to:p,account:d,...l},i)}catch(e){throw(0,nc.S)(e,{abi:s,address:p,args:y,docsPath:"/docs/contract/writeContract",functionName:o,sender:d.address})}}async function nT(e,t,n,a,i){let{abi:s,account:r=e.account,address:p,args:y,dataSuffix:u,functionName:o,...l}=a;if(!r)throw new tl({docsPath:"/docs/contract/writeContract"});let d=(0,L.T)(r),m=(0,U.R)({abi:s,args:y,functionName:o});try{return await t9(e,t,n,{data:`${m}${u?u.replace("0x",""):""}`,to:p,account:d,...l},i)}catch(e){throw(0,nc.S)(e,{abi:s,address:p,args:y,docsPath:"/docs/contract/writeContract",functionName:o,sender:d.address})}}var nf=n(68878);function ng(){return e=>({...F(e),linkToAgw:t=>t3(e,t),getLinkedAgw:()=>tN(e,{})})}function nh(){return e=>({getLinkedAgw:t=>tN(e,t),getLinkedAccounts:t=>tB(e,t)})}async function nw({signer:e,chain:t,transport:n,address:a,isPrivyCrossApp:i=!1,publicTransport:s=(0,u.d)()}){if(!n)throw Error("Transport is required");let r=(0,o.v)({chain:t,transport:s}),p=a??await eW(e.address,r),y=(0,l.e)({account:V(p),chain:t,transport:n}),c=k({account:e,chain:t,transport:n});return y.extend(function(e,t,n=!1){return a=>({getChainId:()=>(0,d.L)(a),getLinkedAccounts:()=>tB(a,{agwAddress:(0,L.T)(a.account).address}),isLinkedAccount:e=>tE(a,e),createSession:e=>e8(a,t,e),revokeSessions:e=>t8(a,e),prepareAbstractTransactionRequest:n=>th(a,e,t,n),sendTransaction:i=>tD(a,e,t,i,n),sendTransactionBatch:i=>tA(a,e,t,i,n),signMessage:t=>nr(a,e,t,n),signTransaction:t=>t_(a,e,t,eO,!1,{},void 0,n),signTypedData:t=>nd(a,e,t,n),deployContract:i=>(function(e,t,n,a,i=!1){let{abi:s,args:r,bytecode:p,deploymentType:y,salt:u,...o}=a,l=function(e){let{abi:t,args:n,bytecode:a,deploymentType:i,salt:s}=e;if(!n||0===n.length){let{functionName:e,argsContractDeployer:t}=ti(i,s??e9.Z,(0,m.NC)(eP(a)),"0x");return(0,U.R)({abi:tt,functionName:e,args:t})}let r=t.find(e=>"type"in e&&"constructor"===e.type);if(!r)throw new te.fM({docsPath:ta});if(!("inputs"in r)||!r.inputs||0===r.inputs.length)throw new te.cO({docsPath:ta});let p=(0,e6.E)(r.inputs,n),{functionName:y,argsContractDeployer:u}=ti(i,s??e9.Z,(0,m.NC)(eP(a)),p);return(0,U.R)({abi:tt,functionName:y,args:u})}({abi:s,args:r,bytecode:p,deploymentType:y,salt:u});return o.factoryDeps=o.factoryDeps||[],o.factoryDeps.includes(p)||o.factoryDeps.push(p),tD(e,t,n,{...o,data:l,to:eF},i)})(a,e,t,i,n),writeContract:i=>nb(Object.assign(a,{sendTransaction:i=>tD(a,e,t,i,n)}),e,t,i,n),toSessionClient:(e,t)=>(function({client:e,signer:t,session:n,paymasterHandler:a}){return function({account:e,signer:t,chain:n,transport:a,session:i,paymasterHandler:s}){a||(a=(0,u.d)());let r=(0,o.v)({transport:a,chain:n}),p=(0,l.e)({account:"string"==typeof e?V(e):e,chain:n,transport:a}),y=k({account:t,chain:n,transport:a});return p.extend(e=>({sendTransaction:t=>t9(e,y,r,t,i),writeContract:t=>nT(e,y,r,t,i),signTransaction:t=>np(e,y,r,t,i,s),signTypedData:t=>nm(e,y,t,i,s)}))}({account:e.account,chain:e.chain,session:n,signer:t,transport:(0,nf.P)(e.transport),paymasterHandler:a})})({client:a,signer:e,session:t})})}(c,r,i))}async function nv(e){let t;let{initialSignerAddress:n,walletClient:a,publicClient:i,...s}=e,r=n??a.account.address,p=await eW(r,i);if(!await e$(i,p)){let e=ej(r,eO,{allowFailure:!1,callData:"0x",value:0n,target:na.DR}),n=(0,z.O0)(r),i=(0,q.w)(n),p=(0,U.R)({abi:eB,functionName:"deployAccount",args:[i,e]});t=await a.sendTransaction({account:a.account,to:eE,data:p,...s})}return{smartAccountAddress:p,deploymentTransaction:t}}let nx={"0xab5":{atomicBatch:{supported:!0}},"0x2b74":{atomicBatch:{supported:!0}}};async function nM(e,t,n){let a=(0,o.v)({chain:e,transport:t});return await eW(n,a)}async function nL(e,t="eth_accounts"){let n=await e.request({method:t});return n?.[0]}async function n_(e,t,n,a,i){let s=k({account:e,transport:n}),r=V({address:e,signMessage:s.signMessage,signTransaction:s.signTransaction,signTypedData:s.signTypedData});return await nw({chain:t,signer:r,transport:n,isPrivyCrossApp:a,publicTransport:i})}function nC(e){let{provider:t,chain:n,transport:a,isPrivyCrossApp:i=!1}=e,s=(0,nf.P)(t),r=async e=>{let{method:r,params:p}=e;switch(r){case"eth_requestAccounts":{let e=await nL(t,r);if(!e)return[];return[await nM(n,s,e),e]}case"eth_accounts":{let e=await nL(t);if(!e)return[];return[await nM(n,s,e),e]}case"eth_signTypedData_v4":{let r=await nL(t);if(!r)throw Error("Account not found");if(p[0]===r)return t.request(e);return(await n_(r,n,s,i,a)).signTypedData(JSON.parse(p[1]))}case"personal_sign":{let r=await nL(t);if(!r)throw Error("Account not found");if(p[1]===r)return t.request(e);let y=await n_(r,n,s,i,a);return await y.signMessage({message:{raw:p[0]}})}case"eth_signTransaction":case"eth_sendTransaction":{let y=await nL(t);if(!y)throw Error("Account not found");let u=p[0];if(u.from===y)return await t.request(e);let o=await n_(y,n,s,i,a);if(u.eip712Meta&&u.eip712Meta.paymasterParams&&(u.paymaster=u.eip712Meta.paymasterParams.paymaster,u.paymasterInput=(0,m.NC)(u.eip712Meta.paymasterParams.paymasterInput)),"eth_signTransaction"===r)return await o.signTransaction(u);if("eth_sendTransaction"===r)return await o.sendTransaction(u);throw Error("Should not have reached this point")}case"wallet_sendCalls":{let r=await nL(t);if(!r)throw Error("Account not found");let y=p[0];if(y.from===r)return await t.request(e);let u=await n_(r,n,s,i,a);return await u.sendTransactionBatch({calls:y.calls.map(e=>({to:e.to,value:e.value?(0,W.y_)(e.value):void 0,data:e.data,chainId:e.chainId?(0,W.y_)(e.chainId):void 0}))})}case"wallet_getCallsStatus":{let e=await t.request({method:"eth_getTransactionReceipt",params:p});return{status:e?.status===void 0?"PENDING":"CONFIRMED",receipts:[e]}}case"wallet_addEthereumChain":case"wallet_switchEthereumChain":{let n=p[0].chainId;if(!n)throw Error("Chain ID is required");let a=(0,K.v)(n)?(0,W.ly)(n):n;if(!Object.values(eK).find(e=>e.id===a))throw Error(`Chain ${a} not supported`);return await t.request(e)}case"wallet_showCallsStatus":return;case"wallet_getCapabilities":{let n=await nL(t);if(!n)throw Error("Account not found");if(p[0]===n)return await t.request(e);return nx}default:return await t.request(e)}};return{...t,on:t.on,removeListener:t.removeListener,request:r}}}}]);