"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5082],{45886:function(e,t,n){n.d(t,{X:function(){return x}});var l=n(27573),a=n(18703),r=n(19879);let s=(0,r.zo)(r.xu,{name:"TransactionStep-Item"})(e=>{let{theme:t}=e;return{display:"flex",width:"100%",gap:8,flexDirection:"row",padding:"12px 0",borderBottom:"1px solid ".concat(t.palette.divider),alignItems:"center",justifyContent:"start",marginLeft:"auto","&:last-child":{borderBottom:"none"}}}),i=(0,r.zo)(r.xu,{name:"TransactionStep-ItemLabel"})(e=>{let{theme:t}=e;return{...t.typography.p3,color:t.palette.text.secondary,display:"flex",width:"100%"}}),o=(0,r.zo)(r.xu,{name:"TransactionStep-ItemContent"})(e=>{let{theme:t}=e;return{...t.typography.p2,display:"flex",flexDirection:"column"}}),d=(0,r.zo)(r.xu,{name:"TransactionStep-EndAdornment"})(()=>({marginRight:0,marginLeft:"auto"})),x=e=>{let{adornment:t,title:n,label:x,status:c}=e;return(0,l.jsxs)(s,{children:[t,(0,l.jsxs)(o,{children:[(0,l.jsx)(r.xu,{color:"pending"===c?"text.secondary":"text.primary",children:n}),(0,l.jsx)(i,{children:"active"===c&&x})]}),(0,l.jsx)(d,{children:"done"===c?(0,l.jsx)(a.J,{type:"checkmark",size:16,sx:{color:e=>e.palette.success.main}}):"active"===c?(0,l.jsx)(a.J,{type:"spinner",size:16,sx:{color:e=>e.palette.text.secondary}}):null})]})}},75082:function(e,t,n){n.d(t,{StakeCardForm:function(){return K},j:function(){return M}});var l,a,r=n(27573),s=n(32550),i=n(19902),o=n(7653),d=n(80762),x=n(99080),c=n(18703),u=n(3634),m=n(2712),p=n(37496),k=n(55843),v=n(13436),j=n(19879),y=n(99770),h=n(5759),S=n(79028),g=n(99043),A=n(84047),f=n(35557),b=n(45886),T=n(59430),z=n(5907),C=n(25845),I=n(59236);let w=(0,j.zo)(j.xu,{name:"StakeTransactionSteps"})(()=>({width:"100%",display:"flex",flexDirection:"column"})),E=(0,i.Pi)(()=>{let{steps:e,isApproving:t,amount:n}=h.stakeAddStore;return(0,r.jsx)(w,{children:e.map(e=>{let{type:l}=e;if("approve"===l){var a;return(0,r.jsx)(b.X,{title:"Approve ".concat(null==n?void 0:null===(a=n.token)||void 0===a?void 0:a.symbol),label:"Approve in your wallet...",adornment:(0,r.jsx)(f.e,{srcToken:null==n?void 0:n.token}),status:t?"active":"done"})}return"stake"===l||"renew"===l?(0,r.jsx)(b.X,{title:"Stake",adornment:(0,r.jsx)(T.h,{isPending:t}),status:t?"pending":"active",label:"Confirm in your wallet..."}):"unstake"===l?(0,r.jsx)(b.X,{title:"Unstake",adornment:(0,r.jsx)(I.V,{}),status:t?"pending":"active",label:"Confirm in your wallet..."}):"increaseLock"===l?(0,r.jsx)(b.X,{title:"Increase Lock Time",adornment:(0,r.jsx)(C.s,{}),status:t?"pending":"active",label:"Confirm in your wallet..."}):"stakeAndIncreaseLock"===l?(0,r.jsx)(b.X,{title:"Increase Stake & Lock Time",adornment:(0,r.jsx)(z.g,{}),status:t?"pending":"active",label:"Confirm in your wallet..."}):void 0})})}),L=(0,i.Pi)(()=>{var e,t,n,l,a,s,i,o,d,u,p,k,v;let{isDepositing:S,isExecuting:A,isApproving:f,isWithdrawing:b}=h.stakeAddStore;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(m.p.SlideIn,{open:A||f,children:[(0,r.jsx)(m.p.SlideIn.TitleBar,{children:"Confirmation Steps"}),(0,r.jsxs)(m.p.SlideIn.Content,{sx:{pb:3},children:[(0,r.jsx)(E,{}),(0,r.jsx)(g.a,{sx:{mt:"auto"},items:S?[{label:"Staked",value:(0,r.jsxs)(j.xu,{sx:{display:"flex",gap:.5},children:[(0,r.jsx)(x.r,{currency:null===(e=h.stakeAddStore.amount)||void 0===e?void 0:e.token,size:16}),null!==(k=null===(t=h.stakeAddStore.amount)||void 0===t?void 0:t.toExact())&&void 0!==k?k:"-"," ",null===(l=h.stakeAddStore.amount)||void 0===l?void 0:null===(n=l.token)||void 0===n?void 0:n.symbol]})},{label:"You Will Receive",value:(0,r.jsxs)(j.xu,{sx:{display:"flex",gap:.5},children:[(0,r.jsx)(x.r,{currency:{symbol:"VESTG"},size:16}),(0,y.uh)(h.stakeAddStore.votingPower)," veSTG"]})},{label:"Lock End",value:(0,r.jsxs)(j.xu,{sx:{display:"flex",gap:.5},children:[(0,r.jsx)(c.J,{type:"lock",size:12}),M(h.stakeAddStore.unlockTime)]})}]:b?[{label:"Unstaked",value:(0,r.jsxs)(j.xu,{sx:{display:"flex",gap:.5},children:[(0,r.jsx)(x.r,{currency:null===(s=h.stakeAddStore.item)||void 0===s?void 0:null===(a=s.lockedAmount)||void 0===a?void 0:a.token,size:16}),null!==(v=null===(o=h.stakeAddStore.item)||void 0===o?void 0:null===(i=o.lockedAmount)||void 0===i?void 0:i.toExact())&&void 0!==v?v:"-"," ",null===(p=h.stakeAddStore.item)||void 0===p?void 0:null===(u=p.lockedAmount)||void 0===u?void 0:null===(d=u.token)||void 0===d?void 0:d.symbol]})}]:[]})]})]})})}),P=(0,j.zo)("p",{name:"StakeCardForm--label"})(e=>{let{theme:t}=e;return{...t.typography.p3,color:t.palette.text.primary,marginBottom:4,display:"flex",alignItems:"center",gap:4}}),U=(0,j.zo)("div",{name:"StakeCardForm-Adornment"})(()=>({display:"flex"})),F=(0,j.zo)(j.xu,{name:"StakeCardForm-BalanceContainer"})(e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",alignItems:"flex-end",borderRight:"1px solid ".concat(t.palette.divider),paddingRight:12,marginRight:12}});(l=a||(a={})).STAKE="STAKE",l.UNSTAKE="UNSTAKE";let K=(0,i.Pi)(e=>{let{chainKey:t}=e,{canWithdraw:n}=h.stakeAddStore;h.stakeAddStore.setId(t);let[l,a]=o.useState("STAKE");return(0,r.jsxs)(m.p,{title:"Stake",titleEndAdornment:(0,r.jsx)(p.W,{chainKey:t}),sx:{minHeight:"705px"},children:[(0,r.jsx)(k.Q,{size:"lg",sx:{mb:3},options:[{label:"Stake",value:"STAKE"},{label:"Unstake",value:"UNSTAKE",disabled:!n}],selection:{label:"STAKE"===l?"Stake":"Unstake",value:l},onValueChange:e=>a(e)}),"STAKE"===l?(0,r.jsx)(R,{}):(0,r.jsx)(B,{})]})}),R=(0,i.Pi)(()=>{var e;let{isApproving:t,isExecuting:n,canWithdraw:l,canIncreaseLockAmount:a,canIncreaseUnlockTime:s,canCreateLock:i,errors:o}=h.stakeAddStore,{amount:p,duration:k}=h.stakeAddStore.form,A=o.at(0),f=G(),b=D(),T=null===(e=h.stakeAddStore.item)||void 0===e?void 0:e.stgBalance;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(j.xu,{sx:{flexGrow:"1"},children:[(0,r.jsx)(P,{children:"Select Amount"}),(0,r.jsx)(u.II,{type:"number",min:0,size:"lg",placeholder:"0",value:p,startAdornment:(0,r.jsx)(x.r,{currency:{symbol:"STG"},size:24}),onChange:e=>h.stakeAddStore.setAmount(e.target.value),endAdornment:(0,r.jsxs)(U,{children:[(0,r.jsxs)(F,{children:[(0,r.jsx)(j.xu,{color:"text.secondary",typography:"p3",children:"Balance"}),(0,r.jsx)(j.xu,{color:"text.primary",typography:"p3",children:(0,y.uh)(T)})]}),(0,r.jsx)(u.Rg,{onClick:h.stakeAddStore.setMaxAmount,children:"Max"})]})}),(0,r.jsx)(j.xu,{color:"text.secondary",typography:"p3",sx:{mt:.5,mb:1.5},children:"Est. Value: -"}),(0,r.jsxs)(P,{sx:{mt:"16px"},children:["Stake Duration (1 to 36 months)",(0,r.jsx)(v.R,{text:"Unlock time is rounded to UTC weeks",children:(0,r.jsx)(c.J,{type:"info",size:12})})]}),(0,r.jsx)(u.II,{type:"number",min:0,size:"lg",value:k?String((0,S.kT)(k)):"",placeholder:"0",onChange:e=>h.stakeAddStore.setMonths(e.target.value),endAdornment:(0,r.jsx)(u.Rg,{onClick:h.stakeAddStore.setMaxDuration,children:"Max"})})]}),(0,r.jsx)(g.a,{sx:{mt:2.5,pb:1.5,borderBottom:e=>"1px solid ".concat(e.palette.divider)},items:b}),(0,r.jsx)(g.a,{sx:{mb:2.5,mt:1.5},items:f}),(0,r.jsx)(m.p.Footer,{children:A?(0,r.jsx)(d.z,{size:"lg",variant:"primary",disabled:!0,children:A}):(0,r.jsx)(d.z,{size:"lg",variant:"primary",onClick:h.stakeAddStore.increase,children:t?"Approving":n?"Confirm in wallet":l?"Renew stake duration":a&&s&&p&&k?"Increase amount and lock time":a&&p?"Increase lock amount":s&&k?"Increase lock duration":i?"Create stake":"Enter values"})}),(0,r.jsx)(L,{})]})}),B=(0,i.Pi)(()=>{var e,t;let{isExecuting:n,canWithdraw:l,withdraw:a}=h.stakeAddStore,{balance:s}=null!==(e=h.stakeAddStore.item)&&void 0!==e?e:{},i=G({overrideTimeLeft:"Complete"}),o=D(),c=null==s?void 0:s.lockedAmount;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(j.xu,{sx:{flexGrow:"1"},children:[(0,r.jsx)(P,{children:"Amount"}),(0,r.jsx)(u.II,{type:"number",min:0,size:"lg",value:null!==(t=null==c?void 0:c.toExact())&&void 0!==t?t:"",disabled:!0,startAdornment:(0,r.jsx)(x.r,{currency:{symbol:"STG"},size:24})})]}),(0,r.jsx)(g.a,{sx:{mt:3,pb:1.5,borderBottom:e=>"1px solid ".concat(e.palette.divider)},items:o}),(0,r.jsx)(g.a,{sx:{mb:2.5,mt:1.5},items:i}),(0,r.jsx)(m.p.Footer,{children:(0,r.jsx)(d.z,{size:"lg",variant:"primary",disabled:n||!l,onClick:a,children:n?"Confirm in wallet":"Unstake"})}),(0,r.jsx)(L,{})]})});function G(e){let{overrideTimeLeft:t}=null!=e?e:{};return[{label:"Time left",value:t||h.stakeAddStore.daysLeft||"-"},{label:"Lock Until",value:(0,r.jsxs)(j.xu,{sx:{display:"flex",gap:"4px",alignItems:"center"},children:[M(h.stakeAddStore.unlockTime),(0,r.jsx)(c.J,{type:"lock",size:16})]})}]}function D(){var e;let{balance:t}=null!==(e=h.stakeAddStore.item)&&void 0!==e?e:{};return[{label:"APY",value:(0,r.jsxs)(j.xu,{sx:{display:"flex",gap:"4px",alignItems:"center"},children:[A.h,(0,r.jsx)(v.R,{text:(0,r.jsxs)(r.Fragment,{children:["The APY displayed is based on data from the last claim period.",(0,r.jsx)("br",{}),"The displayed APY may not represent future yield."]}),children:(0,r.jsx)(c.J,{type:"info",size:16})})]})},{label:"Locked Amount",value:(0,r.jsxs)(j.xu,{sx:{display:"flex",gap:"4px"},children:[(0,r.jsx)(x.r,{currency:{symbol:"STG"},size:16}),(0,y.uh)(null==t?void 0:t.lockedAmount)]})},{label:"Voting Power",value:(0,r.jsxs)(j.xu,{sx:{display:"flex",gap:"4px"},children:[(0,r.jsx)(x.r,{currency:{symbol:"VESTG"},size:16}),(0,y.uh)(h.stakeAddStore.votingPower)]})}]}function M(e){if(!e||0===e)return"-";let t=new Date(1e3*e);try{return(0,s.WU)(t,"MM/dd/yyyy")}catch(e){return"-"}}}}]);